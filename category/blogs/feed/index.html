<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>BLOGS | NeST Digital</title>
	<atom:link href="https://nestdigital.com/category/blogs/feed/" rel="self" type="application/rss+xml" />
	<link>https://nestdigital.com</link>
	<description>Exponential value creation by transforming your legacy Business, Customer and Operation models through Innovative Digital Technologies</description>
	<lastBuildDate>Sat, 12 Aug 2023 12:49:21 +0000</lastBuildDate>
	<language>en</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.3.1</generator>

<image>
	<url>https://nestdigital.com/wp-content/uploads/2023/08/Group-221.png</url>
	<title>BLOGS | NeST Digital</title>
	<link>https://nestdigital.com</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>Navigating the Project Management Maze: Unveiling the High-Stakes World of Software Delivery</title>
		<link>https://nestdigital.com/blogs/navigating-the-project-management-maze-unveiling-the-high-stakes-world-of-software-delivery/</link>
					<comments>https://nestdigital.com/blogs/navigating-the-project-management-maze-unveiling-the-high-stakes-world-of-software-delivery/#respond</comments>
		
		<dc:creator><![CDATA[Bobby George]]></dc:creator>
		<pubDate>Tue, 25 Jul 2023 17:20:28 +0000</pubDate>
				<category><![CDATA[BLOGS]]></category>
		<category><![CDATA[Project Management]]></category>
		<guid isPermaLink="false">https://newwebsite.nestdigital.com/?p=4538</guid>

					<description><![CDATA[In the realm of software development, stories of projects gone awry are not uncommon. One such colossal failure was the United States Air Force’s billion-dollar software fiasco, famously known as the Expeditionary Combat Support System (E.C.S.S.). This ill-fated endeavor aimed to streamline logistics through the implementation of commercial off-the-shelf (COTS) software. However, exorbitant costs, prolonged [&#8230;]]]></description>
										<content:encoded><![CDATA[<div id="bsf_rt_marker">
<p id="9294">In the realm of software development, stories of projects gone awry are not uncommon. One such colossal failure was the United States Air Force’s billion-dollar software fiasco, famously known as the Expeditionary Combat Support System (E.C.S.S.). This ill-fated endeavor aimed to streamline logistics through the implementation of commercial off-the-shelf (COTS) software. However, exorbitant costs, prolonged delays, and an eventual project cancellation led the Air Force to reassess their approach. How could Agile have helped prevent such a disaster?</p>



<p id="9c69">In today’s fast-paced and competitive software development landscape, delivering successful projects that meet customer expectations is crucial for any organization. The choice of project management methodology or framework becomes paramount in achieving this goal. While there is no one-size-fits-all approach, adopting the right methodology can significantly improve project outcomes. This blog aims to explore the importance of project management methodologies, shedding light on how Agile has revolutionized the industry and transformed the way projects are executed.</p>



<h2 class="wp-block-heading" id="589a">Crashing from the Heights: The US Air Force’s Billion-Dollar Software Fiasco</h2>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*B5v6BV4GnsxSiI0X3DEcuQ.jpeg" alt=""/></figure>



<p id="e823">Back in 2006, the United States Air Force embarked on a six-year, billion-dollar software modernization effort, only to cancel it due to exorbitant costs and prolonged delays. The project, called the Expeditionary Combat Support System (E.C.S.S.), aimed to streamline logistics using commercial off-the-shelf software. The realization that it would cost another billion dollars to achieve just a quarter of the initially planned capabilities, with full readiness not expected until 2020, forced the Air Force to pull the plug on the project.</p>



<p id="f7c3">The Commercial Off-the-Shelf (COTS) software, which the Air Force intended to implement, wasn’t a mystery package or a ground-up development. It was supposed to be a solution readily available in the market. Yet, the Defense Department found itself facing a billion-dollar failure before the software plan was abandoned. How did this happen?</p>



<p id="275b">The E.C.S.S., aimed to streamline logistics using Oracle software. In 2006, the Air Force awarded a $628 million contract to the Computer Sciences Corporation (CSC) as the lead system integrator. The task assigned to CSC was to configure, deploy, and conduct training and change management activities before the system’s launch. But what seemed like a feasible endeavour in theory quickly spiralled into a massive undertaking in practice that had already consumed over $1 billion by the time it was cancelled.</p>



<h2 class="wp-block-heading" id="ec27">The Flawed Conception</h2>



<p id="1c0e">The Defense Department acknowledges that the initial conception of the system was flawed. Attempting a “Big Bang” approach, incorporating every possible requirement into the program, resulted in a large and highly complex project.</p>



<h2 class="wp-block-heading" id="ddd7">From Chaos to Success: The Agile Turnaround</h2>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*jMntHUUYYOSR6S5QQZ_THA.jpeg" alt=""/></figure>



<p id="2742">Agile project management methodologies offer a compelling alternative to mitigate the risks associated with large-scale software development initiatives:</p>



<ul>
<li>Iterative Development and Incremental Delivery:</li>
</ul>



<p id="b32f">Agile promotes an iterative and incremental approach, breaking down projects into smaller, manageable components. By delivering working increments of the software at regular intervals, Agile enables continuous feedback and reduces the risk of costly delays. This approach ensures that stakeholders’ evolving needs are met and allows for course correction throughout the project.</p>



<ul>
<li>Continuous Feedback and Adaptability:</li>
</ul>



<p id="4ce7">Agile thrives on regular feedback loops and collaboration between development teams and stakeholders. By engaging stakeholders throughout the process, the Air Force could have gained valuable insights and adjusted the project’s direction accordingly. Continuous feedback ensures that the software aligns with user expectations, leading to increased satisfaction and reduced risk of costly rework.</p>



<ul>
<li>Collaboration and Communication:</li>
</ul>



<p id="9e49">Effective collaboration and communication are foundational principles of Agile. Emphasizing cross-functional teams and face-to-face interactions, Agile promotes transparency and shared understanding. By fostering an environment of open communication, the Air Force could have ensured that project goals, challenges, and progress were consistently communicated, mitigating misunderstandings and promoting effective decision-making.</p>



<ul>
<li>Risk Management:</li>
</ul>



<p id="cbd1">Agile methodologies place a strong emphasis on identifying and managing risks throughout the project lifecycle. By adopting a proactive approach to risk management, the Air Force could have identified potential issues early on and implemented appropriate mitigation strategies. Regular risk assessments, coupled with the ability to adapt and respond to emerging risks, would have allowed for greater control over the project’s trajectory.</p>



<h2 class="wp-block-heading" id="962f">Conclusion</h2>



<p id="3961">Agile methodologies offer a fresh approach to project management, focusing on iterative development, continuous feedback, collaboration, and effective risk management. By embracing these principles, organizations can navigate the high-stakes world of software delivery with greater success.</p>



<p id="b7d0">While Agile methodologies have proven to be highly effective in many software development projects, it’s important to acknowledge that Agile is not the answer to all problems. Every project is unique, and different situations may call for different approaches.</p>



<p id="391e">Agile methodologies thrive in environments where requirements are constantly evolving, and there is a need for frequent collaboration and feedback. However, in certain cases where requirements are stable and well-defined, a more traditional approach like the Waterfall model may be appropriate.</p>



<p id="ac0e">The Waterfall model, with its sequential and linear nature, can provide clear structure and documentation, making it suitable for projects with strict regulatory compliance or when the scope is well-defined from the start.</p>



<p id="34d2">Furthermore, Agile methodologies require active involvement and engagement from stakeholders throughout the project. In situations where stakeholders are not readily available or lack the necessary expertise, Agile may face challenges.</p>



<p id="cb69">It is essential for organizations to carefully evaluate the specific needs and characteristics of their projects before selecting a project management methodology. The key is to adopt an approach that best aligns with the project’s goals, constraints, and stakeholders’ expectations.</p>



<p id="2d45">At Nest Digital, we understand the diverse needs of our clients, and we strive to provide tailored solutions that suit the unique requirements of each project. Our team of experts has experience in various project management methodologies, including Agile, Waterfall, and hybrid approaches. By taking a pragmatic and flexible approach, we ensure that the chosen methodology maximizes project success and delivers optimal results.</p>



<p id="67ed">In conclusion, while Agile methodologies have revolutionized software development and project management, they are not a one-size-fits-all solution. Organizations should carefully assess their project requirements and consider other methodologies when necessary. At Nest Digital, we leverage our expertise in different methodologies to guide our clients in selecting the most appropriate approach for their specific projects, ensuring success through a customized and adaptable strategy.</p>



<h2 class="wp-block-heading" id="3659">References</h2>



<figure class="wp-block-embed is-type-wp-embed is-provider-the-new-york-times wp-block-embed-the-new-york-times"><div class="wp-block-embed__wrapper">
<iframe class="wp-embedded-content" sandbox="allow-scripts" security="restricted" title="Billion-Dollar Flop: Air Force Stumbles on Software Plan" src="https://www.nytimes.com/svc/oembed/html/?url=https%3A%2F%2Fwww.nytimes.com%2F2012%2F12%2F09%2Ftechnology%2Fair-force-stumbles-over-software-modernization-project.html#?secret=8TWA3rqvOe" data-secret="8TWA3rqvOe" scrolling="no" frameborder="0"></iframe>
</div></figure>



<figure class="wp-block-embed"><div class="wp-block-embed__wrapper">
https://fedtechmagazine.com/article/2013/11/what-agencies-can-learn-demise-massive-air-force-support-system
</div></figure>
</div>]]></content:encoded>
					
					<wfw:commentRss>https://nestdigital.com/blogs/navigating-the-project-management-maze-unveiling-the-high-stakes-world-of-software-delivery/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>MySQL Analytics with HeatWave</title>
		<link>https://nestdigital.com/blogs/mysql-analytics-with-heatwave/</link>
					<comments>https://nestdigital.com/blogs/mysql-analytics-with-heatwave/#respond</comments>
		
		<dc:creator><![CDATA[Saji Kumarvk]]></dc:creator>
		<pubDate>Tue, 25 Jul 2023 17:18:47 +0000</pubDate>
				<category><![CDATA[BLOGS]]></category>
		<category><![CDATA[Data Services]]></category>
		<guid isPermaLink="false">https://newwebsite.nestdigital.com/?p=4535</guid>

					<description><![CDATA[Introduction to HeatWave Organizations invest in data technology and tooling to leverage their data for a variety of reasons, such as: · Gaining a clear picture of performance · Creating a single source of truth for business metrics · Maintaining a sustainable e-commerce business · Supporting stock and inventory management · Understanding customer behaviour and [&#8230;]]]></description>
										<content:encoded><![CDATA[<div id="bsf_rt_marker">
<h2 class="wp-block-heading" id="96f9"><strong>Introduction to HeatWave</strong></h2>



<p id="8a44">Organizations invest in data technology and tooling to leverage their data for a variety of reasons, such as:</p>



<p id="c11a">· Gaining a clear picture of performance</p>



<p id="e1f0">· Creating a single source of truth for business metrics</p>



<p id="2ab5">· Maintaining a sustainable e-commerce business</p>



<p id="f6f4">· Supporting stock and inventory management</p>



<p id="908d">· Understanding customer behaviour and preferences</p>



<p id="de78">· And optimizing advertising and marketing budgets</p>



<p id="abe0">However, many businesses struggle to make their models viable due to the high cost and complexity of modern data stacks. One of the main challenges in managing existing data and analytics solutions is identifying suitable databases for online transaction processing (OLTP), online analytical processing (OLAP), and machine learning (ML) volumes and transporting extracted data between them while also maintaining multiple databases.</p>



<p id="ee46">MySQL HeatWave addresses these challenges by combining transactional, analytic, and ML services into a single, fully managed service with the added power of an in-memory query accelerator. This results in a highly performant solution for SQL analytics at a fraction of the cost compared to other industry solutions.</p>



<h2 class="wp-block-heading" id="044f"><strong>Massive Parallel Architecture</strong></h2>



<p id="3156">The architecture of HeatWave allows for each node in a cluster and each core within a node to process partitioned data simultaneously. This includes parallel scanning, joining, grouping, aggregating, and top-k processing, which results in high cache hits for analytic operations and excellent scalability between nodes. HeatWave uses a compressed and optimized in-memory representation for both numeric and string data, which leads to significant performance improvements and reduced memory usage for customers. The in-memory representation also uses a columnar format, which facilitates vectorized processing and further enhances query performance.</p>



<p id="d0e9">HeatWave is a storage engine for MySQL that can be easily integrated with existing MySQL tools. It offers fast data reload operations such as error recovery and maintenance through a data management layer that is scalable and can work with OCI object storage or Amazon S3. The engine has a query optimizer that automatically decides if it can handle the query and if the estimated processing time is faster than the existing HeatWave cluster, the cluster can be scaled up or down without interrupting client connections. During the scaling operation, the cluster remains functional, and there is little to no effect on query performance.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*byl0SLubPpL4xPePTOjsFw.png" alt=""/></figure>



<h2 class="wp-block-heading" id="9adc"><strong>MySQL Autopilot</strong></h2>



<p id="fb90">Autopilot is a feature of HeatWave that improves the query optimizer’s intelligence by utilizing advanced techniques. It collects statistics on data and queries, samples data, and builds machine-learning models that can model memory usage, network load, and execution time. Autopilot focuses on four primary areas, which are system setup, data load, query execution, and failure handling.</p>



<p id="489a">Within the system setup, Autopilot has two main features, auto-provisioning, and auto-shape predictions. Auto-provisioning uses data sampling from tables to predict the number of nodes required to run a specific workload. Auto-shape predictions use machine-learning models to predict the optimal cluster shape for the workload.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*UxJ5CThzW3XOIWHk6A9zIA.png" alt=""/></figure>



<p id="2dd3">Auto shape prediction is a feature of HeatWave that enables customers to optimize their price and performance by analyzing OLTP workload, throughput, and buffer pool hit rate. It recommends the appropriate compute shape for the workload at any given time.</p>



<p id="acae">The Data Load feature is enriched with four auto-features. Auto parallel loading predicts the optimal degree of parallelism for each table to enable faster data loading. Auto encoding determines the optimal representation of columns being loaded to minimize the cost and maximize query performance. Auto data placement uses an in-memory partition to achieve the best query performance and provides expected gain percentage and new column recommendations. Auto unload unloads unused table volumes, freeing up resources for other tasks.</p>



<p id="a695">Query Execution includes several features such as Auto thread pooling, which enables the database service to process more transactions for a given hardware configuration. Auto scheduling determines which queries in the queue are short-running and prioritizes them over long-running queries intelligently. Auto change propagation determines the optimal time to propagate changes from the MySQL database to the HeatWave storage layer. Auto query time estimation estimates the execution time of a query before executing it, allowing quick testing of different queries. Auto query plan improvement learns from execution data and improves the execution plan of future queries.</p>



<p id="5785">Failure Handling is addressed by the Auto error recovery feature, which reloads necessary data if one or more HeatWave nodes become unresponsive. This improves the system’s performance as more queries are run. Auto scheduling, auto query time estimation, and auto thread pooling also contribute to failure handling by reducing overall wait time and preventing OLTP workload drops at high levels of transactions and concurrency.</p>



<h2 class="wp-block-heading" id="55e5"><strong>HeatWave AutoML</strong></h2>



<p id="dc29">HeatWave AutoML is a technology that automates the creation of machine learning models by leveraging MySQL interfaces and explanations. This eliminates the need for the user to have deep knowledge of machine learning. The models created using HeatWave Atoms can be explained, which is important for building trust, ensuring fairness, and meeting regulatory requirements.</p>



<p id="94c9">HeatWave AutoML is designed with security in mind. There are no security loopholes that allow unauthorized access to data or models within the database by clients or other services. HeatWave AutoML scales with the size of the cluster and can be easily upgraded. Compared to other competing services, HeatWave AutoML provides high performance at a lower cost.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*gZI0Zy9Xw1CHwUGGR3Y0wg.png" alt=""/></figure>



<h2 class="wp-block-heading" id="c357"><strong>Technology Advantages</strong></h2>



<p id="2286">Data Scientists often face laborious and time-consuming tasks such as tuning hyperparameters, selecting a suitable sample of data, fine-tuning pipelines, processing data, and generalizing models. HeatWave AutoML automates these tasks, minimizing the number of trials by extensively using meta-learning and providing an optimal model within a given time budget. It leverages Oracle AutoML, which has a scalable design and has been proven effective in various Oracle products, including the OCI Data Science Service and the Oracle Database. With HeatWave AutoML, data scientists can use the familiar MySQL interface to automate ML-tuned model creation, including interfaces and explanations, without the need for ML expertise. All models created by HeatWave AutoML can be explained, which is essential for building trust, demonstrating fairness, and complying with regulatory requirements. HeatWave AutoML is highly secure and easy to upgrade and scales with the size of the cluster. Compared to other competing services, it is much less expensive while delivering high performance.</p>



<p id="5856"><strong>Comparison Matrix for HeatWave with the competing analytics services</strong></p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*9QHOdZMpubIRe2MeTYrfGg.png" alt=""/></figure>



<h2 class="wp-block-heading" id="72ef"><strong>Conclusion</strong></h2>



<p id="311c">MySQL HeatWave is a solution that allows organizations to manage OLTP, OLAP, and ML databases with a single service. This means that businesses can leverage HeatWave for better analytic query performance and lower costs without the need for ETL. HeatWave is designed with a massively parallel architecture that enables high cache hits and provides excellent inter-node scalability, resulting in a highly performant solution for SQL analytics at a fraction of the cost compared to other industry solutions.</p>



<p id="ed0a">The HeatWave platform includes native machine learning capabilities called Autopilot and AutoML, which automate many of the tasks previously performed by data scientists, such as tuning hyperparameters, selecting data samples, and pipeline fine-tuning. Autopilot builds machine learning models to model memory usage, network load, and execution time by using advanced techniques to sample data, collect statistics on data and queries, and build machine learning models. Autopilot leverages Oracle AutoML to automate the task of generating models and is scalable, minimizing the number of trials by using meta-learning, and providing an optimal model given a time budget.</p>



<p id="3f1e">The HeatWave platform is fully managed, making it easy to use and accessible to businesses of all sizes. HeatWave’s automation features improve performance, scalability, and ease of use, allowing businesses to leverage their data to optimize outcomes while reducing the complexity and cost of managing data and analytics solutions. Overall, MySQL HeatWave provides a cost-effective, high-performance solution for businesses looking to leverage their data to gain insights and drive better business outcomes.</p>
</div>]]></content:encoded>
					
					<wfw:commentRss>https://nestdigital.com/blogs/mysql-analytics-with-heatwave/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>“Will that charging gun fit my electric car!”</title>
		<link>https://nestdigital.com/blogs/will-that-charging-gun-fit-my-electric-car/</link>
					<comments>https://nestdigital.com/blogs/will-that-charging-gun-fit-my-electric-car/#respond</comments>
		
		<dc:creator><![CDATA[Ram Mohan Ramakrishnan]]></dc:creator>
		<pubDate>Tue, 25 Jul 2023 17:16:55 +0000</pubDate>
				<category><![CDATA[BLOGS]]></category>
		<category><![CDATA[Mobility]]></category>
		<guid isPermaLink="false">https://newwebsite.nestdigital.com/?p=4533</guid>

					<description><![CDATA[Abstract EV charging standards assure electric car (EV) users of compatibility with EV Chargers (EVSEs). The landscape of EV charging standards is fragmented with no single global standard. Regional associations and industry leaders have defined their respective standards so far, which were promoted by regulatory legislations for specific geographies. Compliance from both EV OEMs as [&#8230;]]]></description>
										<content:encoded><![CDATA[<div id="bsf_rt_marker">
<h2 class="wp-block-heading" id="ea8b"><strong>Abstract</strong></h2>



<p id="5ed3">EV charging standards assure electric car (EV) users of compatibility with EV Chargers (EVSEs). The landscape of EV charging standards is fragmented with no single global standard. Regional associations and industry leaders have defined their respective standards so far, which were promoted by regulatory legislations for specific geographies. Compliance from both EV OEMs as well as EV Charger manufacturers is a must to make compatibility a reality. An EV charging standard is not a single standard, rather it is an umbrella of multiple constituent standards dealing with various aspects of EV charging. Each EV charging standard has tried to consolidate in its home ground while attempting to penetrate overseas markets, incorporating the latest developments in EV charging in order to remain competitive.</p>



<h2 class="wp-block-heading" id="585f"><strong>Introduction</strong></h2>



<p id="78b0">Thinking of switching over to an electric car? Well, do you drive long distances on business or holiday? If so, then one of your first concerns will be about recharging midway from public charging stations. So, is the EV model you are considering compatible with those charging stations (or vice versa)? With your petrol/diesel car, you are fully confident that the nozzle of any fuel station in the country will fit into your tank’s inlet, no matter the choice of fuel grade. With your new electric car however, will the charging gun of every installed public charging station fit into its charging inlet and work safely and correctly?</p>



<h2 class="wp-block-heading" id="f268"><strong>EV charging compatibility</strong></h2>



<p id="4fa9">For charging any battery, ranging from a UPS battery to a cell phone battery, the input electrical parameters depend on the country-specific grid standard. For instance, 230V/1-Phase or 400V/3-Phase and 50 Hz in India. Whereas the output parameters will be specific to the battery design. More or less similarly, the EV charging standard adopted by a particular country ensures that all EVs manufactured for use in that region are compatible with public chargers installed there. So, the short answer to the concern is that if your EV is locally manufactured, then you can be reasonably assured that it will be compatible with the locally installed public chargers.</p>



<p id="d8ce">However, when it comes to an imported EV it turns out to be fuzzy! For instance, if you plan to import a made-in-Japan EV, are you sure it can be charged from public chargers in India? What about a Chinese import? Well, it looks like the answers are not in black or white! So, let’s try to understand the WHYs and HOWs of EV — EVSE compatibility. (Where EVSE stands for Electric Vehicle Supply Equipment, or the EV charger).</p>



<h2 class="wp-block-heading" id="663d"><strong>Compatibility requirements</strong></h2>



<p id="360a">Firstly, when we talk of public charging, we are referring for the most part to DC Fast charging. Public charging does include DC Ultra-fast charging as well, although uptake is still to happen in countries like India. In DC Fast charging the output DC voltage is typically 500V, providing power output of typically 150kW, whereas for DC Ultra-fast charging it is typically 800V and upward of 300kW. The input parameters (for both types) depend on the grid standard adopted in India as mentioned above.</p>



<p id="1500">However, EV–EVSE compatibility is not limited to interoperability of voltage and power, it also involves compatibility at various levels between the car and the EV Charger — mechanical (connector dimensions, pinout), max. electrical ratings, EV-EVSE communication, thermal management, safety etc. Most importantly, compliance from both EV OEMs as well as EV Charger manufacturers is a must to make compatibility a reality. For instance, an electric car manufactured by Tata Motors should be compatible with a DC Fast charger design from Delta Electronics, or a charging station installed by Exicom should be compatible with an electric tractor manufactured by TAFE.</p>



<h2 class="wp-block-heading" id="e3bc"><strong>Standardization of EV Charging</strong></h2>



<p id="6f13">The Automotive Research Association of India (ARAI) is the vanguard in India that governs compatibility by publishing standards and guidelines and enforces them through compliance testing and certification services, for both EVs as well as EVSEs in the country. The Automotive Industry Standard AIS-138 (Part-2) is the ARAI standard for DC Fast charging, which extensively cross references global standards, like IEC 61851 for basic conductive charging system and its electrical/safety aspects and analog signalling, DIN SPEC 70121 and ISO 15118 for high level communication and other related European standards for connectors etc. ARAI also publishes Automotive Industry Standard AIS-038 for the construction and functional safety of Electric Power Train vehicles, as well as defines the type qualification tests for all categories of EVs besides laying down guidance for the measurement of power output, electrical energy consumption and range of EVs.</p>



<p id="7394"><strong>Note</strong>: The scope of ARAI extends not only into other areas of EV and EVSE, like hybrid electric vehicles and AC charging, but also into fossil fuel vehicles as well.</p>



<h2 class="wp-block-heading" id="08c6"><strong>Global EV charging standards</strong></h2>



<p id="5ce4">At the global stage, a single standard to govern EV–EVSE compatibility has always remained elusive, and is likely to remain a utopian dream. Just as electrical systems around the world are fragmented (and finitely so), so are EV charging standards. As of today, the Combined Charging System (CCS) with its 2 variants CCS1 (US) and CCS2 (Europe), CHAdeMO (Japan), GB/T (China) and Tesla are the global EV charging standards.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*t5FlJmBFym6ZNGnZ2T0fEA.png" alt=""/><figcaption class="wp-element-caption"><strong>Global EV charging standards and geographies&nbsp;</strong>(Image courtesy: Science Direct)</figcaption></figure>



<h2 class="wp-block-heading" id="f3b8"><strong>War of the plugs!</strong></h2>



<p id="163a">A glance at the charging connector, one of the many aspects of an EV charging standard, gives a sense of wide variations across competing standards.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*Dyepw0OdJXQOSe2_0zB9SA.png" alt=""/><figcaption class="wp-element-caption"><strong>Charging connectors of global EV charging standards&nbsp;</strong>(Image courtesy: Renhotec EV)</figcaption></figure>



<p id="95af"><strong>Note</strong>: The connector layout and pin arrangement at the outlet/gun of the EV Charger and that at the inlet of the car are mirror images of one another.</p>



<p id="daeb"><strong>Evolution of EV charging standards</strong></p>



<p id="4ca6">Let us trace briefly the history of EV charging standards.</p>



<h2 class="wp-block-heading" id="3373"><strong>CHAdeMO</strong></h2>



<p id="4285">The CHAdeMO association in Japan were the first movers in 2010 for a standardized fast charging system for battery electric vehicles. It was formed by the Tokyo Electric Power Company and a few Japanese automakers — Toyota, Nissan, Mitsubishi, Subaru, Hitachi, Honda and Panasonic. Although not all at the same time, they agreed on a proprietary CAN (Controller Area Network) based protocol for the communication between the car and the EV Charger. Since then CHAdeMO has seen widespread deployment in Japan.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*ILzybU5MGUe2fqn1PE421w.jpeg" alt=""/><figcaption class="wp-element-caption"><strong>Charging inlet of Nissan Leaf EV (for use in Japan only), showing the CHAdeMO connector&nbsp;</strong>(Image courtesy: Wikimedia Commons)</figcaption></figure>



<p id="de24">Soon CHAdeMO’s success travelled beyond the Japanese archipelago as it gained the status of an international standard in 2014, following which it found traction in international markets, like North America and Europe. Over 50+ CHAdeMO manufacturers have an installed base of public fast chargers across 60+ countries. Various models from BMW, Mitsubishi, Mazda, Citroen, Lexus, Nissan, Peugeot, Subaru, Toyota and Tesla support (or used to support at some point of time) CHAdeMO as a standard or optional inlet.</p>



<p id="f619"><strong>Note</strong>: “CHAdeMO” was coined as an abbreviation of “CHArge de MOve”, equivalent to “charge for moving”, and is a pun for “O cha demo ikaga desuka” in Japanese, which means “Let’s have a tea while charging”, which really symbolized fast charging at that time!</p>



<p id="b5a7">However, CHAdeMO had a major setback when the Combined Charging System was designated by the European Commission as the standard for public fast charging in Europe. EU regulations did not mandate removing or phasing out CHAdeMO, it only directed that all public chargers in the EU were to be equipped with CCS2 Combo connector. This allowed charger manufacturers to have multiple connector options in the charger, including CHAdeMO.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*gjgW7AoOHDHEFj8hfI_1jA.jpeg" alt=""/><figcaption class="wp-element-caption"><strong>Charging inlet of Nissan Leaf EV (US version) Shows additional CCS Type1 connector for AC charging, in addition to CHAdeMO connector for DC charging&nbsp;</strong>(Image courtesy: The Tech)</figcaption></figure>



<p id="1d30">More precisely, the technical specifications (Annex II) of the EU directive on the development of infrastructure for Alternative Fuels of 2014 states that “Direct current (DC) high power recharging points for electric vehicles shall be equipped as of 2017, for interoperability purposes, at least with connectors of the Combined Charging System ‘Combo 2’ as described in standard IEC 62196–3.”, that defines the dimensional compatibility and interchangeability requirements of specific designs of plugs, socket-outlets, vehicle connectors and vehicle inlets related to public charging. This is the piece of EU legislation that launched CCS as the predominant standard in Europe, and later in other parts of the world like the US where the Society of Automotive Engineers (SAE) welcomed CCS as an obvious extension to the existing AC charging standard.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*MR87wsybkb4nF8FtJVIDGg.jpeg" alt=""/><figcaption class="wp-element-caption"><strong>Charging inlet of Nissan Leaf EV (EU version) Shows additional CCS Type2 connector for AC charging, in addition to CHAdeMO connector for DC charging&nbsp;</strong>(Image courtesy: TeslaClub)</figcaption></figure>



<p id="088c">These developments led to CHAdeMO steadily losing market share, with even some of its association members like Honda and Nissan ditching CHAdeMO connectors on their models sold outside Japan. Nevertheless, CHAdeMO still remains the predominant EV charging standard in Japan.</p>



<h2 class="wp-block-heading" id="7a57"><strong>Combined Charging System (CCS)</strong></h2>



<p id="ee75">The Combined Charging System (CCS) standard was introduced in 2012 by seven European and North American auto makers — Audi, BMW, Daimler, Ford, General Motors, Porsche and Volkswagen. At that time the ISO15118 standard that defined use of the HomePlug GreenPHY protocol (based on Power Line Communication) wasn’t fully ready for release. So, in the interim, CCS chose the German standard DIN SPEC 70121 (that used a similar protocol) for high level communication between the car and the EV Charger. Subsequently ISO15118 was adopted by CCS when it was released in 2014 to supersede DIN SPEC 70121 as the high-level communication standard. Later CCS came under the governance of the CharIN (Charging Interface Initiative e.V.) association which today consists of more than 300 members dedicated to promoting interoperability based on CCS.</p>



<h2 class="wp-block-heading" id="9396"><strong>CCS Type1 (and Combo1)</strong></h2>



<p id="2c69">CCS Type 1 (and Combo 1) connectors gained popularity in North America (120 V system), soon finding traction in Taiwan and South Korea.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*j_Ev0Le8jt6_b6aTUtTs6w.png" alt=""/><figcaption class="wp-element-caption"><strong>Charging gun/inlet of General Motors EV (unknown model), showing CCS Combo1 connector&nbsp;</strong>(Image courtesy: AutocarPro)</figcaption></figure>



<h2 class="wp-block-heading" id="bd50"><strong>CCS Type2 (and Combo2)</strong></h2>



<p id="2458">While CCS Type 2 (and Combo 2) connectors became widespread in Europe (240 V system), followed by other geographies like South America, South Africa, India, Singapore and Australia.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*TEdTV1jlrFL4u_NlNBVhJg.png" alt=""/><figcaption class="wp-element-caption"><strong>Charging gun/inlet of Renault Zoe EV, showing CCS Combo2 connector&nbsp;</strong>(Image courtesy: Renault)</figcaption></figure>



<p id="bdd4">Meanwhile on the public charging infrastructure front, CCS charger installations have outnumbered CHAdeMO chargers in the US as of 2020.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:470/1*HU_bNq85nSaAdIXmacHIQw.png" alt=""/><figcaption class="wp-element-caption"><strong>ABB Terra 54 CJG DC Fast Charger, with multiple charging gun options — CHAdeMO, CCS2 and AC charging&nbsp;</strong>(Image courtesy: ABB)</figcaption></figure>



<h2 class="wp-block-heading" id="1d42"><strong>CHAdeMO</strong></h2>



<p id="e1e6">We saw earlier how CHAdeMO lost its foothold in Europe with the EU directive, and later in the US. However, it is to be appreciated how CHAdeMO was retained by CCS as an option for manufacturers. The IEC 61851 standard that was adopted by CCS had made provision for 3 alternative options for digital communication:</p>



<p id="f34e">· System A — CAN bus A interface, defined by IEC 61851–24, for CHAdeMO</p>



<p id="9927">· System B — CAN bus B interface, defined by the GB/T 27930, for GB/T</p>



<p id="46bc">· System C — Power Line Communication (PLC), defined by ISO15118, for CCS</p>



<p id="a3c2">In this non-exclusivity of communication options, we can see CCS as kind of grandfathering CHAdeMO, perhaps to honour the already installed base of CHAdeMO chargers and compatible cars in the EU. Nevertheless, CHAdeMO was unable to withstand the market forces in the EU and the US, and is being relegated to its home turf of Japan.</p>



<h2 class="wp-block-heading" id="4e1c"><strong>GB/T</strong></h2>



<p id="077b">GB/T charging standard was developed in China led by the China Electricity Council, and is largely limited to the Chinese market, incidentally the largest EV market.</p>



<h2 class="wp-block-heading" id="54bf"><strong>Tesla</strong></h2>



<p id="a2e7">Anything that is proprietary is hardly a standard, so “Tesla standard” may turn out to be an oxymoron! Although not an open standard, let’s look at the Tesla connector as well for completeness sake.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:618/1*N3tThtvgw4xv0fH0qZnIwA.png" alt=""/><figcaption class="wp-element-caption"><strong>Tesla EV Charger (gun) connector&nbsp;</strong>(Image courtesy: Connector Tips)</figcaption></figure>



<p id="2c15">Don’t worry, it is not an ET from Star Wars! It is only Tesla’s proprietary connector design.</p>



<p id="faf4">Even Tesla has had to pivot to provide CCS2 charging outlets in their Superchargers installed in Europe, and also provide (separately sold) CCS2 adapter for their cars sold in the EU. (Does this remind of Apple having to provide USB Type-C slot on iPhones sold in Europe!) Tesla EVs have accommodated the CCS2 connector in the inlet alongside the proprietary Tesla connector, so that owners can leverage the vast CCS2 public charging infrastructure in the EU that is far denser than the installed base of Tesla Superchargers.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1056/1*O3IXMHbC2Wgw0Q3GipyTyw.png" alt=""/><figcaption class="wp-element-caption"><strong>Updated Tesla Model S EV charging inlet Shows CCS2 connector in addition to Tesla proprietary connector&nbsp;</strong>(Image courtesy: Electrek)</figcaption></figure>



<h2 class="wp-block-heading" id="263a"><strong>CCS — What’s under the hood?</strong></h2>



<p id="773a">Let’s look in some detail into the Combined Charging System (CCS) standard. Why choose this particular standard for deep dive? From the above discussion and pictures, it is evident that competing standards like CHAdeMO and Tesla are making space for CCS to retain their market share. Further although it originally became popular in Europe, CCS2 was adopted subsequently by many other countries, including India and is arguably the most prevalent global standard today.</p>



<p id="7cd8">CCS is an open, universal and international charging system for electric vehicles based on international standards — one system for all. It combines single phase and three phase AC charging, along with Fast DC charging (most important for public charging). It is a combination of hardware and software, that ranges from defining the connector, managing of the control functions and the charging communication between the electric vehicle and the charging infrastructure.</p>



<p id="4354">The basic electrical interface specification for power transmission that includes safety aspects like charging socket lock and safety-related (analog) signalling is defined by IEC61851. Connector dimensions and electrical ratings follow the IEC 62196 standard. Since the original Type 2 connector design was made by the manufacturer Mennekes (Germany), it is also colloquially known as the Mennekes connector. Further CCS introduced the Combo2 connector that combines pins for both AC charging and DC charging in Europe.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1328/1*T_I6cG3JiUlwc6UG3cEzoQ.png" alt=""/><figcaption class="wp-element-caption"><strong>Peugeot EV (unknown model) charging inlet with CCS Combo 2 connector. Note the 2 DC pins covered by the closed lower cap&nbsp;</strong>(Image courtesy: ZapMap)</figcaption></figure>



<p id="e679">While in the US, the Type 1 connector is popularly known as the SAE J1772 connector. Further CCS introduced the Combo1 connector that combines pins for both AC charging and DC charging in the US.</p>



<p id="2e65">High Level Communication uses the standards ISO 15118 and DIN SPEC 70121 (now obsolete). The communication uses TCP/IP channel based on HomePlug GreenPHY (Power Line Communication), protected by TLS security that offers better security for encrypted authentication and secure payment, compared to the CAN bus communication adopted by CHAdeMO and GB/T standards.</p>



<p id="2c91">CCS has been continuously evolving and adoption the latest trends in EV charging — smart charging, plug-n-charge, bidirectional charging (vehicle to grid), wireless (inductive) charging, automatic connection device (robotic arms and pantographs). A working group at CharIN is also working on Extended High Power (or MegaWatt) charging connector for speciality EVs like trucks and buses that can take multiple MW of charging power.</p>



<h2 class="wp-block-heading" id="a9b2"><strong>Compatible or not</strong></h2>



<p id="18db">At SFO Technologies (the flagship company of NeST group), our EV Charger designs conform to CCS2 standard to address both the Indian and European markets. The shortly upcoming ARAI testing and certification activity will ensure that any compatible electric (or hybrid) car, like a Tata Nexon EV or a Hyundai Kona EV, can be safely plugged into it and charged.</p>



<p id="7018">Meanwhile, let us see if we have the answer to the compatibility questions regarding imported EVs. Well, it turns out that if it is a Japanese make EV model that was manufactured for use in Japan only, it will have only the CHAdeMO connector in the inlet, so it cannot be charged from CCS2 public charging stations in India. However, if it is a model that was manufactured for the international market like the EU, then it will additionally have a CCS2 connector in the inlet, which means it can be used in India. Whereas in the case of the imported Chinese EV, one tends to think that since it will have only GB/T inlet, it cannot be charged in India. Quite counterintuitively, DC Fast chargers with GB/T gun option (and CAN based communication) are manufactured and installed in India, although they are few in number!</p>



<h2 class="wp-block-heading" id="8f2a"><strong>Standardization trends</strong></h2>



<p id="5bb0">From the above discussion, we can see that an EV charging standard is not really a single self-contained standard, rather it is an umbrella of multiple constituent standards, each one dealing with a particular aspect of EV charging — connector definition, electrical parameters, communication system and safety features, that has been adopted by legislation by policy makers of the respective geography.</p>



<p id="a93d">For the same reason and owing to their history of evolution, the standardization landscape is not expected to change drastically in the next 3–5 years. China the largest EV market today will continue to promote GB/T, whereas the rest of the world will resist adopting it. Meanwhile CCS2 will continue its predominance in Europe, and consolidate in India and other geographies and try to further expand its footprint. The US will continue with a mixture of CCS1 and CHAdeMO till the time the latter gets fully phased out, not by legislation though. This shift could spur some aftermarket action for CCS-2 retrofit kits for existing CHAdeMO cars, as well as smart CCS2-CHAdeMO charging adapters. CHAdeMO will lose further market share in both the US and the EU and eventually be relegated to the Japanese market only.</p>



<p id="31ea">However, this hardly means that the landscape will remain static. Firstly, many changes are expected to happen with each global standard, with each of them continuing to incorporate new and emerging sub-standards related to smart charging, bidirectional charging, wireless charging, automatic connection device etc. On a different dimension, cooperation between erstwhile competitors is also happening. The China Electricity Council and the CHAdeMO Association of Japan are collaborating on an ambitious EV charging standardization project for ultra-fast charging, that has “CHaoJi” as it working name. This new global standard released in 2020 is believed to be backward compatible with the existing GB/T (Chinese) and CHAdeMO (Japanese) standards. So, the arena of EV charging standards promises to be action packed!</p>



<p id="1828"><strong>Conclusion</strong></p>



<p id="4437">As electrification gains momentum in the coming years to help governments achieve their global climate commitments, several new features for Smart Charging and grid-friendliness are expected to be incorporated into all major EV Charging standards. Both EV OEMs as well as EV Charger manufacturers will need to closely follow the changes in the latest releases of the standards to assure compatibility and retain/gain their market share.</p>
</div>]]></content:encoded>
					
					<wfw:commentRss>https://nestdigital.com/blogs/will-that-charging-gun-fit-my-electric-car/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Understanding Diffusion And Stable Diffusion in AI</title>
		<link>https://nestdigital.com/blogs/understanding-diffusion-stable-diffusion-in-ai/</link>
					<comments>https://nestdigital.com/blogs/understanding-diffusion-stable-diffusion-in-ai/#respond</comments>
		
		<dc:creator><![CDATA[Atri Saxena]]></dc:creator>
		<pubDate>Tue, 25 Jul 2023 17:13:39 +0000</pubDate>
				<category><![CDATA[BLOGS]]></category>
		<category><![CDATA[Artificial Intelligence]]></category>
		<guid isPermaLink="false">https://newwebsite.nestdigital.com/?p=4531</guid>

					<description><![CDATA[After the Generative Adversal Networks (GANs), Variational Auto Encoders (VAE), and Flow-based models, Diffusion Models are the latest research in generative models that can generate diverse high-resolution images. These models also attracted a lot of attention after OpenAI, Google, and Nvidia trained large-scale models. Some examples of pre-trained architecture on Diffusion are DALLE-2, GLIDE, Imagen, [&#8230;]]]></description>
										<content:encoded><![CDATA[<div id="bsf_rt_marker">
<p id="a86e">After the Generative Adversal Networks (GANs), Variational Auto Encoders (VAE), and Flow-based models, Diffusion Models are the latest research in generative models that can generate diverse high-resolution images. These models also attracted a lot of attention after OpenAI, Google, and Nvidia trained large-scale models. Some examples of pre-trained architecture on Diffusion are DALLE-2, GLIDE, Imagen, etc.</p>



<h1 class="wp-block-heading" id="9f7c">Main Principle behind Diffusion</h1>



<p id="07d3">Diffusion model logic is inspired by non-equilibrium thermodynamics. They define a Markov chain process to add a Gaussian noise slowly to the data and then learn to reverse the diffusion steps to construct the desired data from the noise.</p>



<p id="a657">For e.g.,&nbsp;<strong>A fixes noising process gradually noises the data x₀ to noise xₜ. We learn to reverse it from noise xₜ to data x₀.</strong></p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*ncZsbhWTW_BpHRaEAH2dlQ.png" alt=""/><figcaption class="wp-element-caption">Originally created by Author</figcaption></figure>



<p id="759b">You can see the code for adding gaussian noise to the image at this&nbsp;<a href="https://gist.github.com/AtriSaxena/06aef7904f4aca9f5a6056c3a8fdd484" rel="noreferrer noopener" target="_blank">gist</a>.</p>



<p id="73b7">The idea behind is we add a fixed gaussian noise in a very small amount for series of T steps this is called the&nbsp;<strong>Forward pass</strong>. Notably, this is unrelated to the forward pass of the neural network.</p>



<p id="090b">After the neural network is trained to learn the reverse process, i.e., denoise the image to recover the original data. This is so-called the&nbsp;<strong>reverse diffusion process</strong>&nbsp;or sampling process of generative models.</p>



<h2 class="wp-block-heading" id="3832">Forward process</h2>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:924/1*GpJs3IdvVAFMFCg7t4_HQg.png" alt=""/><figcaption class="wp-element-caption">Originally created by Author</figcaption></figure>



<p id="b8e0">Now, a fixed Markov Chain is used to add a Gaussian noise with variance βₜ and q is the posterior probability of xₜ given xₜ₋₁. This process can be formulated as below:</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:900/1*MFpGkW8ZhXfLy2jiKqQcmA.png" alt=""/></figure>



<p id="57cc">Since we are in the multi-dimensional scenario here&nbsp;<strong>I</strong>&nbsp;is the identity matrix, and it indicates that each dimension has the same standard deviation βₜ. Note that, q(xₜ | xₜ₋₁) is still a normal distribution with mean μₜ</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:434/1*2-6wKNNIckr8HJsJoj7f4g.png" alt=""/></figure>



<p id="daff">and variance Σₜ = βₜI. Thus, we can now go from x₀, …, xₜ₋₁, xₜ, … x(T) in a tractable way. Mathematically this posterior probability will be defined as</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:748/1*PTmpyrzfreGTX6QCOWDJVQ.png" alt=""/></figure>



<h2 class="wp-block-heading" id="06b8"><strong>Reverse Diffusion</strong></h2>



<p id="fed8">Now, we need to learn the reverse process i.e, given xₜ learn to predict xₜ₋₁, there posterior probability of q(xₜ | xₜ₋₁). For that, we need to take a parameterized model such as a neural network. Since, we know q(xₜ | xₜ₋₁) will be Gaussian, for small βₜ, we can choose p₀ to be Gaussian and choose mean and variance as parameters.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:998/1*Lf0VPl2N3BZCVCy2f6dGog.png" alt=""/></figure>



<p id="fca4">If we apply reverse diffusion to all the time steps T then the formula will become:</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:816/1*MCCzPA9qWDkr5JW2TkDbUw.png" alt=""/></figure>



<p id="cdc6">Now, since we need model to learn the mean μₜ and Co-variance Σₜ to predict the Gaussian parameters for each time step.</p>



<h1 class="wp-block-heading" id="af99">Model Architecture of Stable Diffusion Model</h1>



<p id="e5bd">Since we are talking about the Stable Diffusion model which will be taking text or paragraph of text and trying to create image.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*0t4a3MoJPCUcFVmfeT5CkQ.png" alt=""/><figcaption class="wp-element-caption">Originally created by Author</figcaption></figure>



<p id="55e7">Here, Convolutional UNet architecture is used which is having same output shape as input. UNet uses downsampling and Upsampling layers and various other components such as Residual connections, batch or group normalization layers. Now as we need to pass the description text also, this text is converted into tokens and run Transformer on them. Then attend these transformers into UNet.</p>



<p id="4c99">Here the model will take noised image xₜ at time step t and try to predict the noise in the image because the variance is set fixed we will output only one value per pixel that means model learns the Mean of the Gaussian distribution of the images this is also called&nbsp;<strong>Denoising Score Matching.</strong></p>



<h1 class="wp-block-heading" id="627b">Conditional Image Generation: Guided Diffusion</h1>



<p id="4416">An important step of image generation is to add conditions in the sampling process to manipulate the generated samples. This is also referred to as Guided Diffusion.</p>



<p id="82fd">There have been methods to guide the distribution using Image/Text embeddings into the diffusion in order to guide the generation. Mathematically we can say, the guidance refers to conditioning a prior distribution p(x) with a condition y as a class label or text embeddings resulting in p(x/y).</p>



<p id="c1b3">For converting a diffusion model to a conditional diffusion model we can add conditioning information y at each diffusion step.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:922/1*4Z5Y4dFhEBlZ1Fqmk3PIYw.png" alt=""/></figure>



<p id="4e2b">Adding conditioning at each time step may result in excellent samples generation from a text prompt.</p>



<p id="d4b1">In general diffusion models aims to learn ∇logp₀(xₜ|y). Now adding the guidance scalar term ‘s’ we have</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1156/1*6Pzn-JP6iLHZPU48kh_zLw.png" alt=""/></figure>



<p id="94ba">Using this guidance, let’s understand the distinction between classifier and classifier-free guidance.</p>



<h2 class="wp-block-heading" id="536c">Classifier guidance</h2>



<p id="f7b4"><a href="https://arxiv.org/abs/1503.03585" rel="noreferrer noopener" target="_blank">Sohl-Dickstein et al</a>. and later&nbsp;<a href="https://arxiv.org/abs/2105.05233" rel="noreferrer noopener" target="_blank">Dhariwal and Nichol</a>&nbsp;explained in their paper to use a second model, a classifier&nbsp;<em>fϕ</em>​(<em>y</em>∣xₜ​,<em>t</em>), to guide the diffusion towards target class y. For achieving that we can train a classifier&nbsp;<em>fϕ</em>​(<em>y</em>∣xₜ​,<em>t</em>) on the noise image xₜ to predict its class y. Then we can use gradient ∇logp₀(xₜ|y) to guide for diffusion.</p>



<h2 class="wp-block-heading" id="eb4b">Class-free guidance</h2>



<p id="6dbf">Here&nbsp;<a href="https://openreview.net/forum?id=qw8AKxfYbI" rel="noreferrer noopener" target="_blank">Ho &amp; Salimans</a>&nbsp;proposed a model without a second classifier model. Here author used a single neural network and train a conditional diffusion model together with the unconditional diffusion model. During training, they set y to class 0 randomly, so that model is exposed to both conditional and unconditional setups.</p>



<h1 class="wp-block-heading" id="7c33">Scaling Up Diffusion Models</h1>



<p id="3eab">The problem with the models we discussed is that these are computationally expensive. And for producing high-quality images, U-Net architecture will be very much expensive. Therefore for producing high-resolution images using diffusion there are two methods: cascade diffusion models and latent diffusion models.</p>



<h2 class="wp-block-heading" id="cbe9">Cascade Diffusion Models</h2>



<p id="4a5b"><a href="https://arxiv.org/abs/2106.15282" rel="noreferrer noopener" target="_blank">Ho et al. 2021</a>&nbsp;introduced cascaded models which consist of a pipeline of many sequential diffusion models that generates high-fidelity images. Each model generates a sample with a superior resolution than the previous model. Upsampling layers are used to increase the resolution with the diffusion layer.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*UwneEqNcyn1OslBYg5AxFg.png" alt=""/><figcaption class="wp-element-caption"><em>Cascade diffusion model pipeline. Source: Ho &amp; Saharia et al.</em></figcaption></figure>



<h2 class="wp-block-heading" id="7714">Stable Diffusion: Latent Diffusion Models</h2>



<p id="198e">In Latent Diffusion Models instead of applying diffusion on high-dimensional data, we project the input to a smaller latent space and then apply diffusion</p>



<p id="cd62"><a href="https://arxiv.org/abs/2112.10752" rel="noreferrer noopener" target="_blank">Rombach et al</a>. proposed the idea to use an encoder network to encode the input to a smaller latent representation i.e., zₜ = g(xₜ). The main purpose behind using an encoder is to reduce the computation requirement of the diffusion network by reducing the image to a small latent space. Later, diffusion model (U-Net) is applied to generate new data, and decoder network is used to upsample the image to the original resolution.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/0*TjpXniuya0R8BdOH.png" alt=""/><figcaption class="wp-element-caption"><em>Latent diffusion models. Source:&nbsp;</em><a href="https://arxiv.org/abs/2112.10752" rel="noreferrer noopener" target="_blank"><em>Rombach et al</em></a></figcaption></figure>



<h2 class="wp-block-heading" id="18e0">Results</h2>



<p id="3aaa">Some results of the diffusion model generated from&nbsp;<a href="https://stablediffusionweb.com/#demo" rel="noreferrer noopener" target="_blank">here</a>:</p>



<p id="cf44"><strong>Sample Input 1:</strong>&nbsp;“A small cabin on top of a snowy mountain in the style of Disney, artstation.”</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1398/1*bkH84HjDWOMBlqB5eTwwyg.png" alt=""/><figcaption class="wp-element-caption">Generated from&nbsp;<a href="https://stablediffusionweb.com/#demo" rel="noreferrer noopener" target="_blank">https://stablediffusionweb.com/#demo</a></figcaption></figure>



<p id="c80b"><strong>Sample Input 2: “</strong>Mechanical robot on Indian road”</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1390/1*22TvJ3D1yKHYTHKlAir71Q.png" alt=""/><figcaption class="wp-element-caption">Generated from&nbsp;<a href="https://stablediffusionweb.com/#demo" rel="noreferrer noopener" target="_blank">https://stablediffusionweb.com/#demo</a></figcaption></figure>



<p id="6ba4">You can try your own sentences also at&nbsp;<a href="https://stablediffusionweb.com/#demo" rel="noreferrer noopener" target="_blank">https://stablediffusionweb.com/#demo</a></p>



<h2 class="wp-block-heading" id="a834">Summary</h2>



<p id="9c61">Let’s summarize the points, we have learned from diffusion models:</p>



<ul>
<li>Diffusion models work on applying fixed Gaussian noise to the original image for T time steps this process is known as diffusion.</li>



<li>It has two processes Forward and Reverse diffusion. In reverse diffusion, a model or neural network learns to denoise the image.</li>



<li>We can use an image or text embedding to “guide” the diffusion process.</li>



<li>Cascade and Latent diffusion are two approaches to scale-up models to high resolution.</li>



<li>Cascaded diffusion is a sequential diffusion model that uses upscaling layers to create high-resolution images.</li>



<li>Latent diffusion models apply diffusion in a latent space and are less computationally expensive by using variational autoencoders for upsampling and downsampling.</li>
</ul>



<h2 class="wp-block-heading" id="a98f"><strong>References</strong></h2>



<p id="5376">[1] Sohl-Dickstein, Jascha, et al.<a href="https://arxiv.org/abs/1503.03585" rel="noreferrer noopener" target="_blank">&nbsp;Deep Unsupervised Learning Using Nonequilibrium Thermodynamics</a>. arXiv:1503.03585, arXiv, 18 Nov. 2015</p>



<p id="59fd">[2] Ho, Jonathan, et al.&nbsp;<a href="https://arxiv.org/abs/2006.11239" rel="noreferrer noopener" target="_blank">Denoising Diffusion Probabilistic Models</a>. arXiv:2006.11239, arXiv, 16 Dec. 2020</p>



<p id="0f94">[3] Ho, Jonathan, and Tim Salimans.<a href="https://openreview.net/forum?id=qw8AKxfYbI" rel="noreferrer noopener" target="_blank">&nbsp;Classifier-Free Diffusion Guidance</a>. 2021. openreview.net</p>



<p id="8009">[4] Nichol, Alex, et al.&nbsp;<a href="https://arxiv.org/abs/2112.10741" rel="noreferrer noopener" target="_blank">GLIDE: Towards Photorealistic Image Generation and Editing with Text-Guided Diffusion Models</a>. arXiv:2112.10741, arXiv, 8 Mar. 2022</p>



<p id="1536">[5] Rombach, Robin, et al.&nbsp;<a href="https://arxiv.org/abs/2112.10752" rel="noreferrer noopener" target="_blank">High-Resolution Image Synthesis with Latent Diffusion Models</a>. arXiv:2112.10752, arXiv, 13 Apr. 2022</p>



<p id="6403">[6] Ho, Jonathan, et al.&nbsp;<a href="https://arxiv.org/abs/2106.15282" rel="noreferrer noopener" target="_blank">Cascaded Diffusion Models for High Fidelity Image Generation</a>. arXiv:2106.15282, arXiv, 17 Dec. 2021</p>



<p id="7fb8">[7] Weng, Lilian.&nbsp;<a href="https://lilianweng.github.io/posts/2021-07-11-diffusion-models/" rel="noreferrer noopener" target="_blank">What Are Diffusion Models?</a>&nbsp;11 July 2021</p>



<p id="a5fc">[8] Das, Ayan. “<a href="https://ayandas.me/blog-tut/2021/12/04/diffusion-prob-models.html" rel="noreferrer noopener" target="_blank">An Introduction to Diffusion Probabilistic Models.</a>” Ayan Das, 4 Dec. 2021</p>



<p id="13ed">[9] Prafulla Dhariwal. “<a href="https://www.youtube.com/watch?v=xYJEvihz3OI" rel="noreferrer noopener" target="_blank">Generative art using diffusion</a>.”</p>



<p id="b7b5">[10] Saharia, Chitwan, et al.&nbsp;<a href="https://arxiv.org/abs/2205.11487" rel="noreferrer noopener" target="_blank">Photorealistic Text-to-Image Diffusion Models with Deep Language Understanding</a>. arXiv:2205.11487, arXiv, 23 May 2022</p>
</div>]]></content:encoded>
					
					<wfw:commentRss>https://nestdigital.com/blogs/understanding-diffusion-stable-diffusion-in-ai/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>“Hello Mr. EV Charger, I’m a flat car battery!” (Part-2)</title>
		<link>https://nestdigital.com/blogs/hello-mr-ev-charger-im-a-flat-car-battery-part-2/</link>
					<comments>https://nestdigital.com/blogs/hello-mr-ev-charger-im-a-flat-car-battery-part-2/#respond</comments>
		
		<dc:creator><![CDATA[Ram Mohan Ramakrishnan]]></dc:creator>
		<pubDate>Tue, 25 Jul 2023 17:11:24 +0000</pubDate>
				<category><![CDATA[BLOGS]]></category>
		<category><![CDATA[Mobility]]></category>
		<guid isPermaLink="false">https://newwebsite.nestdigital.com/?p=4529</guid>

					<description><![CDATA[Abstract By enabling interoperability, EV Charging standards ensure that EV owners can charge their cars from any compatible EV Charger. The IEC 61851 standard defines Analog Signalling that ensures electrical safety and facilitates basic communication between the EV Charger and the car. Basic communication includes features such as plug-in detection and readiness to charge. The [&#8230;]]]></description>
										<content:encoded><![CDATA[<div id="bsf_rt_marker">
<h2 class="wp-block-heading" id="f97d"><strong>Abstract</strong></h2>



<p id="79d6">By enabling interoperability, EV Charging standards ensure that EV owners can charge their cars from any compatible EV Charger. The IEC 61851 standard defines Analog Signalling that ensures electrical safety and facilitates basic communication between the EV Charger and the car. Basic communication includes features such as plug-in detection and readiness to charge. The Combined Charging System 2 includes real-time digital communication over Power Line Communication (PLC), also known as High-Level Communication, which is defined by the ISO 15118 standard. This forms a complete e-Mobility communication system for EV Charging. It ensures that the charging requirements, capabilities and limitations of both the EV Charger and the car are understood and synchronized throughout the charging session. During the charging session, the EV Charger communicates with the car using High-Level Communication. This enables the EV Charger to pass information about the car to backend Charging Management Software (CMS) over the Open Charge Point Protocol (OCPP).</p>



<h2 class="wp-block-heading" id="f2a0"><strong>Introduction</strong></h2>



<p id="4f3d">How does an EV Charger know how much energy to pump into a car battery? How does it know that the battery is flat currently so it needs to be charged at maximum current? How does the EV Charger know the time of departure desired by the user? And how does it correctly display the remaining time to charge?</p>



<h2 class="wp-block-heading" id="b30e"><strong>Recap</strong></h2>



<p id="d687">Welcome back to the world of EVSE-EV communications. In the previous (first) part of this article, we discussed the 2 types of communication between the EV Charger and the car. In the Combined Charging 2 system, these are:</p>



<p id="3ac8">1. Analog Signalling (<strong>AS</strong>), defined by the IEC 61851 standard (the successor of the US SAE J1772)<br>2. High-Level Communication (<strong>HLC</strong>), defined by the ISO 15118 standard (the successor of the German DIN SPEC 70121)</p>



<p id="8949">In the previous (first) part, we had deep dived into AS. In this (second) part, we take a closer look at how HLC works, and how it is related to AS.</p>



<h2 class="wp-block-heading" id="a05a"><strong>Why HLC?</strong></h2>



<p id="3298">So, if AS already serves the purpose of handshaking between the EV Charger and the car regarding plug in events, the readiness for charging and negotiation of charging current for the session, then why is HLC required? Are there any features provided by HLC over and above AS?</p>



<p id="6ab6">The short answer is Yes. HLC enables enhanced features, like the exchange of charging parameters between the car and the EV Charger. Like the requested energy and charging current, as well as information like state of charge (SoC) of the battery, remaining time to charge etc. It also opens up the possibility for the Charging Operator to operate a Cloud based (*) billing and payment system that is critical for public charging infrastructure.</p>



<p id="ab83">(*) Cloud — Most modern EV Chargers are connected to the Cloud, where a Charging Management Software (CMS), that is owned and operated by the Charging Operator, provides high level services like authorization, billing and payment. The CMS links up all EV Chargers under the same operator. Communication between the EV Charger and the CMS uses the Open Charge Point Protocol (OCPP), which is a TCP/IP based de-facto standard led by Charge Point, USA.</p>



<h2 class="wp-block-heading" id="218b"><strong>HLC Standards</strong></h2>



<p id="f4ab">HLC standards for EV Charging were pioneered by the Japanese with their CHAdeMO system. In Europe, the Germans introduced HLC in the CCS2 system with the DIN SPEC 70121 in 2012, that was an interim standard for DC Chargers. However, it did not support AC Charging, Plug &amp; Charge or Smart Charging features. The German standard was later superseded by the ISO 15118 standard in 2014, that covers both DC Chargers and AC Chargers and includes Plug &amp; Charge and Smart Charging enhancements. The CCS2 system that India has adopted is the most prevalent system in Europe.</p>



<p id="6674">HLC offers several enhancements over AS, including Smart Charging and Automated Authentication and Authorization mechanisms. Smart Charging allows for cost effective AC or DC charging by scheduling the charging operation during off-peak hours and considering the availability of renewable energy in the grid. It can also optimize charging based on the battery’s State of Health (SoH) and is useful for fleet charging scenarios for balancing power provision. Additionally, HLC allows for quick re-negotiation of charging schedules between the EV Charger and the car in response to unforeseen changes in the grid.</p>



<p id="754f">Automated Authentication and Authorization (A&amp;A) mechanisms in HLC can be achieved using External Identification Means (EIM), such as an RFID card or QR code scan from a mobile app with multiple options for spot payment. Alternatively, A&amp;A could be achieved using secure Plug &amp; Charge (PnC), where an E-Mobility contract is signed with the Charging Operator. Digital XML signatures &amp; Digital Certificates installed in the car use TLS security, and the car only needs to be plugged in for the user to be authorized and for automated billing and payment at the backend.</p>



<h2 class="wp-block-heading" id="8f46"><strong>Communicating end points</strong></h2>



<p id="1138">As for any data communication, at least 2 entities are required for HLC — the EV Charger and the car. Although EV Chargers with multiple charging guns presents a 1-to-many relationship with only one EV Charger and multiple cars, we will consider only the 1-to-1 case for simplicity sake.</p>



<p id="1976">In HLC defined by ISO 15118, the communicating end point inside the EV Charger side is called Supply Equipment Communication Controller (SECC) and its counterpart inside the car is called Electric Vehicle Communication Controller (EVCC).</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*W33JNv_6ky7rxSCuPQErtg.png" alt=""/><figcaption class="wp-element-caption">Communicating end points in HLC</figcaption></figure>



<p id="3033">So, although loosely saying that the EV Charger and the car participate in HLC is not incorrect, it would be technically accurate to say that the SECC (in the EV Charger) and the EVCC (in the car) participate in HLC.</p>



<h2 class="wp-block-heading" id="ca9a"><strong>Data communication model</strong></h2>



<p id="a399">The SECC (in the EV Charger) and the EVCC (in the car) establish a data communication network by establishing the 7 functional layers as outlined in the well-established ISO/OSI data communication model. As per the model, each layer builds upon the functionality that is provided by the underlying layers, starting with the physical layer at the bottom all the way up to the application layer at the top.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*_Q07PzqOEADjJAWmaemATg.png" alt=""/><figcaption class="wp-element-caption">ISO/OSI data communication model (Diagram courtesy: Tesla)</figcaption></figure>



<h2 class="wp-block-heading" id="578c"><strong>Layers 1 &amp; 2</strong></h2>



<p id="4d85">The physical and data link layers are implemented as per Part-3 of ISO 15118 using Power Line Communication (PLC), that typically uses a HomePlug Green PHY (IEEE1901) modem. At the physical layer (layer 1) the modems at both ends connect to the same physical line of the Control Pilot (CP), over which a high frequency carrier in the 1.8MHz to 30MHz range is transmitted. The carrier wave is modulated with the HLC message data packets, achieving a maximum data rate of 10Mbps.</p>



<p id="23bf">The CP line therefore is multiplexed across the 2 modes of communication, as follows:<br>1) AS: +12V/-12V 1000Hz square wave (between the IEC 61851 compliant circuitry at both ends)<br>2) HLC: 1.8MHz to 30MHz PLC carrier wave, modulated with data message packets (between the SECC and EVCC as per ISO 15118)</p>



<p id="cb44">The media access/data link layer (layer 2) is managed by the Signal Level Attenuation Characteristic (SLAC) protocol as defined by the HomePlug Green PHY v.1.1.1 specification. SLAC is designed for automotive applications, where multiple EVs could connected simultaneously to an EV Charger. The carrier signal’s attenuation level from each car is measured at the EV Charger during the Association Procedure in order to uniquely determine the identity of the cars. Security is optionally added using public key signature.</p>



<p id="7874">The layer 2 SLAC protocol stack is typically provided by HomePlug Green PHY compliant silicon vendors, like Qualcomm. SLAC sets up a reliable and secure frame transfer mechanism between the 2 nodes over the physical medium, guaranteeing error free transfers. During the SLAC initialization procedure, the PLC modem at the SECC (in the EV Charger) and EVCC (in the car) get unique MAC addresses. After the SLAC handshake is successful, the PLC modems at the SECC and the EVCC form a logical network.</p>



<h2 class="wp-block-heading" id="666f"><strong>Layers 3 &amp; 4</strong></h2>



<p id="221f">The network layer (layer 3) is an IPv6 stack that layers over the MAC address. DHCP is used for host configuration and ICMPv6 to send network layer error messages. Each node therefore gets an IPv6 address. The transport layer (layer 4) stacks — TCP (reliable), UDP (fast), and optionally Transport Layer Security/TLS (safe) get layered on top of the IPv6 (layer3) stack. TCP provides flow control, congestion control and triggers retransmissions upon error conditions for guaranteed delivery.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*eauSnfexxc4O3r67hvAzbA.png" alt=""/><figcaption class="wp-element-caption">Applicability of the different Parts of ISO 15118 to the 7-layered V2G Protocol Stack (Diagram courtesy: Tesla, Switch)</figcaption></figure>



<h2 class="wp-block-heading" id="9178"><strong>Layers 5, 6 &amp; 7</strong></h2>



<p id="2754">The V2G Transfer Protocol (V2GTP) is (layer 5/session) layered over the transport layer for session management between the EV Charger (also called “grid side” **) and the car. The presentation layer (layer 6) consists of encoding and decoding between application (XML) format and network Efficient XML Interchange (W3C EXI 1.0) format and negotiating/establishing an application layer protocol along with version number. The application (layer 7) V2G messages that have specific meanings in the context of the charging process/session are communicated between the SECC (in the EV Charger) and the EVCC (in the car) utilizing the completed layers of the underlying protocol stack. Domain Name Service (DNS) and SECC Discovery Protocol (SDP) protocols at layer 7 help resolve addresses and discover the SECC respectively. V2G stacks that implement layer 3 to layer 7 are available as open source as well as proprietary.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*xEXy4yYp3NxZ1Ug_HUIFdg.png" alt=""/><figcaption class="wp-element-caption">Data packet format, with layer-wise headers (Diagram courtesy: Tesla)</figcaption></figure>



<p id="fc04">Like every layered communication model, each layer adds its own header to the original payload received from its upper layers during transmission. Vice versa during reception — each layer strips off its header before passing on the payload to its upper layers. Now, doesn’t the above description, layering and packet diagram look very familiar!</p>



<p id="9658">Before diving deeper into HLC, let us first examine how it is related to AS.</p>



<h2 class="wp-block-heading" id="5ea5"><strong>Close relationship — HLC and AS</strong></h2>



<p id="d84e">The lifecycle of a charging session involving the EV Charger and the car consists of the following state sequences, that are managed together by AS and HLC.</p>



<p id="48a9">· Unmated — EV not yet connected (State-A)</p>



<p id="52d5">· Mated — EV detected, not ready to charge (State-B)</p>



<p id="fe16">· Initialize — EV detected, ready to charge (State-C), Initialize HLC</p>



<p id="8a41">· Cable check — Connector is locked on the car side for safe DC Charging</p>



<p id="1382">· Pre-charge — Adjust EV Charger’s output voltage to the car’s battery voltage</p>



<p id="c8ea">· Charge — Control actual power transfer</p>



<p id="62a1">· Power down — EV still detected, but no longer ready to charge (State-B)</p>



<p id="dfd2">· Unmated — EV no longer connected (State-A)</p>



<p id="071e">IEC 61851 that defines AS describes different modes of charging, as follows with the last section in bold of special interest to us:</p>



<ul>
<li>Charging Mode 1 — AC charging from mains over standard 1phase/3phase sockets. Up to 16 A and 250/480 V. No protection device in the charging cable.</li>



<li>Charging Mode 2 — AC charging from mains over standard 1phase/3phase sockets. Up to 32 A and 250/480 V. Protection device integrated in the charging cable.</li>



<li>Charging Mode 3 — AC charging using dedicated AC charging stations. Mandatory PWM signalling and optional High-Level Communication (HLC)</li>



<li><strong>Charging Mode 4 — DC charging using dedicated DC charging stations. Mandatory PWM signalling and mandatory High-Level Communication (HLC)</strong></li>
</ul>



<p id="7dc2">We can see that mode 4 is the charging mode for DC charging from a DC Charging Station using mandatory AS and mandatory HLC.</p>



<p id="0738">IEC 61851 further classifies the Charging mode 4 (above) into 3 systems, as follows with the last section in bold of special interest to us.</p>



<ul>
<li>System A — The physical/data layer is CAN bus A interface. The application layer is defined by IEC 61851–24. (This is used in CHAdeMO system)</li>



<li>System B — The physical/data layer is CAN bus B interface. The application layer is defined by the GB/T 27930 standard. (This is used in the Chinese system)</li>



<li><strong>System C — The physical/data layer is Power Line Communication (PLC). The application layer is defined by the ISO 15118 protocol. (This is used in the CCS2 system)</strong></li>
</ul>



<p id="b24f">We can see that in System C which has been adopted by the CCS2 system, ISO 15118 specifies the usage of Power Line Communication (PLC) for HLC. We can therefore think of IEC 61851 as the “mother” standard that defines the context and the need for ISO 15118 as the “daughter” standard. Needless to say that mother historically precedes daughter.</p>



<h2 class="wp-block-heading" id="5b80"><strong>Initiating HLC</strong></h2>



<p id="ff45">We saw in the previous (first) part how the AS session is initiated by electrically detecting the event of plugging in the car to the EV Charger. So how is the HLC session initiated? Well, it turns out that it is AS itself that initiates HLC! Let us see how.</p>



<p id="a0ac">We had seen that the valid range of PWM duty cycle between the EV Charger and the car is between 10% and 96%. Why these figures, precisely? At 96% duty cycle, we hit the maximum current of 80A as defined by IEC 61851. And at 10%, we are at 6A which is the lowest current rating of any common domestic power outlet. That should have meant that any value of the duty cycle less than 10% (or greater than 96%) should have been invalid. But no! They chose a special value of 5% duty cycle for a very special purpose — to signal the need for HLC.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*X-Vn4jdisvdGm6xhfru6Yw.png" alt=""/><figcaption class="wp-element-caption">The 5% duty cycle waveform in AS, that triggers HLC</figcaption></figure>



<p id="40d9">Hence if the duty cycle is set to 5% in AS, then it is an indication that additional HLC is required. In practice, there is a small tolerance around the 5%, so actual duty cycles could vary between 3% and 7%.</p>



<p id="0c34">So, while the Control Pilot (CP) and Protective Earth (PE) lines of the EV Charger and the car are connected (mated), and when a 5% duty cycle square wave is detected, it causes the HomePlug Green PHY modems at the SECC (EV Charger) and the EVCC (car) to establish a physical link over the 1.8MHz-30MHz carrier wave signal, thereby establishing layer-1 of the HLC protocol. What an ingenious way to electrically initiate the transition to setup a data communication stack!</p>



<h2 class="wp-block-heading" id="c628"><strong>Just a trigger, not a participant</strong></h2>



<p id="122a">It may be worth clarifying here that although AS is responsible for triggering HLC by issuing the 5% duty cycle square waveform on the CP line, once HLC is established between the EV Charger and the car over PLC, AS has no role to play in the data communication session. Like a mother marrying off her daughter and letting her live by herself! Which means that AS is totally transparent to the SECC and EVCC in the context of digital communication, and is separately handled by the EVSE controller (on the EV Charger) and the base controller (on the car), both of which implement the IEC 61851 protocol.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*1JoZLiSNxNq-3e_pCMBmkQ.png" alt=""/><figcaption class="wp-element-caption">Multiplexing physical lines across AS and HLC modes</figcaption></figure>



<p id="488c">SECC (EV Charger) and EVCC (car) are involved only in HLC over PLC carrier wave. They are not involved in AS, although the same physical lines of CP and PE are shared between the 2 modes. Like the mother and the married daughter still share their family car for shopping together, but keep their bags separate! AS is handled through discrete voltage levels and square wave PWM by means of separate analogue circuitry on the EV Charger side (also called “grid side” **) and in the car, as per IEC 61851, as we saw in the previous (first) part of this article.</p>



<p id="3dd8">(**)”grid side” : Now we know why HLC is also commonly known as V2G (Vehicle-to-Grid), and in some instances V2H (Vehicle-to-Home). For the car, the EV Charger represents the front end to the home or/and the grid.</p>



<h2 class="wp-block-heading" id="e5e5"><strong>HLC architecture</strong></h2>



<p id="dffc">HLC is a Client/Server protocol, where the EVCC (car) acts as the Client and the SECC (EV Charger) acts as the Server. It is based on a “request — response” mechanism as defined by Part-2 of ISO 15118, that defines a set of V2G request/response messages between the EVCC and the SECC. As per this mechanism, the car always sends request messages and the EV Charger sends back the corresponding response messages.</p>



<p id="809e">An example of a request — response message pair illustrating car-initiated V2G messages, is as follows:</p>



<p id="1160">Request message (from car) — SupportedAppProtocolReq<br>Response message (from EV Charger) — SupportedAppProtocolRes</p>



<p id="2fd5">The car sends this request message at the beginning of the charging session to find out the V2G protocol version supported by the EV Charger. All subsequent message exchange is possible only after the both handshake on the protocol version.</p>



<p id="1953">A few exceptional messages are triggered by the EV Charger, although not sent by it. As mentioned above, the EV Charger never directly sends a request message. In the exceptional cases, a message sequence is triggered indirectly by the EV Charger by setting a flag in its (previous) response message. The car responds to this by sending a new request message. Hence, request messages are always sent by the car. Renegotiation of the charging schedule when the grid undergoes unexpected demand fluctuations is an example of this exceptional case.</p>



<h2 class="wp-block-heading" id="f933"><strong>Message Timings</strong></h2>



<p id="8bbb">The car sends a new message every 60 seconds at the latest. The EV Charger must respond within 2 (to 5) seconds (depending on the message) to the incoming request. A few messages like CertificateInstall/Update and CableCheck have a larger timeout value.</p>



<h2 class="wp-block-heading" id="5807"><strong>V2G message sequences</strong></h2>



<p id="d1f5">The HLC model consists of various stages of the charging sequence as shown below, which also forms the basis of meaningful grouping V2G messages:</p>



<p id="75e3">A. Start of charging process</p>



<p id="9195">B. Communication setup (meaning HLC)</p>



<p id="5744">C. Certificate handling</p>



<p id="aa3c">D. Identification and Authorization</p>



<p id="1dd7">E. Target setting and charge scheduling</p>



<p id="082e">F. Charge controlling and rescheduling</p>



<p id="902f">G. Value-added services</p>



<p id="aee7">H. End of charging process</p>



<p id="840a">The following table describes V2G messages in more detail, though not exhaustively. The “Req” suffix indicates a request message sent by the car. There will be a corresponding “Res” response message sent by the EV Charger.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*6YT6XQpV56kiP1GTkFl0-A.png" alt=""/><figcaption class="wp-element-caption">V2G message sequences in HLC</figcaption></figure>



<p id="0ad1"><strong>#&nbsp;</strong>From the EVEnergyRequest parameter of the ChargeParameterDiscoveryReq message, the EV Charger comes to know how much energy the car is requesting to transfer into the battery.</p>



<p id="f7dc"><strong>#&nbsp;</strong>From the optional EVRESSSOC parameter of the ChargeParameterDiscoveryReq message, the EV Charger learns the State of Charge (SoC) of the battery (in %).</p>



<p id="afb3"># From the CurrentDemandReq message it knows how much charging current the (BMS of the) car is requesting.</p>



<p id="ae49"><strong>#&nbsp;</strong>The user sets the departure time on the car’s dashboard. From the DepartureTime parameter of the ChargeParameterDiscoveryReq message, the EV Charger learns the time of departure desired by the user.</p>



<p id="873b">#From the TimeToFullSOC parameter of the ChargeParameterDiscoveryReq message, the EV Charger knows the remaining time to charge.</p>



<p id="78e3">It looks like some light has started shedding on the basic questions that we set out with! Meanwhile, the optional nature of some of these parameters in ISO 15118 is driven by European GDPR regulations on how much information the user wants to share.</p>



<h2 class="wp-block-heading" id="30a9"><strong>Industry trends</strong></h2>



<p id="069a">Many advanced features of EVSE-EV communications are getting incorporated into ISO 15118, and commercial products implementing these features are steadily hitting various global markets. Imagine the richness of features that we are going to witness in the near future in emerging economies like India, as EVSE-EV communication tries to cover new scenarios, such as:</p>



<ul>
<li>Plug &amp; Charge — Just plug in the car, and the EV Charger recognizes the owner! No more RFID, QR code, mobile App etc.</li>



<li>Smart Charging — Synchronize with the grid through EV Chargers on charging schedules and charging currents of cars based on overall loading conditions of the grid, like charging at off-peak hours</li>



<li>Demand-based responsiveness — Dynamically synchronize through EV Chargers the charging of millions of EVs, especially at the time of unforeseen grid power fluctuations to avoid overwhelming the historically shaky grid capacity</li>
</ul>



<p id="e729">At SFO Technologies (the flagship company of NeST group), we test our EV Charger designs using a Battery Communications Simulator. The Simulator works exactly like a car, providing the same connector pins that work on AS as defined by IEC 61851 and capable of the HLC as defined by ISO 15118. Such is the beauty of standardization that compliance during design ensures that the EV Charger will work correctly when deployed in the field with any compliant car model (mechanically, electrically, communication-wise and software-wise).</p>



<p id="2b02">Specifically, Part-20 of ISO 15118 that was released last year (2022) includes certain futuristic features such as:</p>



<ul>
<li>Bidirectional Power Transfer (BPT) — Feeding the car battery’s power back to the home, or into the grid. Imagine charging the car at off-peak hours and feeding power back (selling) to grid at peak-hours (at better rates)!</li>



<li>Wireless Power Transfer (WPT) — Zero contact for power transfer while charging your car! Also called inductive charging, the transmitter coils (source) are encased in a plate embedded on the ground, for instance at a car parking. The receiver coils (load) are installed in the car conveniently close to the battery, which is anyway located at the floor of the chassis in most EV designs. So, one needs to just position the car using the guidance markings, so that the pair of coils align properly and charge by inductive coupling.</li>



<li>Automated Connection Device (ACD) — Space-age robotic arms that would avoid the manual operation of plugging in the charging gun to the charging inlet of the car. Pantographs are already popular with bus fleets. This would be useful especially for heavy water-cooled cables of Ultra-fast Chargers, and for autonomous vehicles. Imagine the irony of having to manually charge a driverless car!</li>
</ul>



<p id="7551"><strong>Conclusion</strong></p>



<p id="82bc">From the above concentrate of the wide spectrum of EV Charging standards juice, we can see that AS and HLC combine symbiotically to establish a complete e-Mobility communication system for EV Charging. So, the next time you plug in your electric car to an EV Charger, you will know better that it’s not just all voltages and currents. The software engineer in you can now visualize the 7-layer protocol stacks being loaded at both ends of that cable and V2G message sequences going back and forth even before power starts flowing into your car battery. You will probably smile knowing that the cable that is electrically charging your car is also buzzing with V2G activity literally all the time!</p>
</div>]]></content:encoded>
					
					<wfw:commentRss>https://nestdigital.com/blogs/hello-mr-ev-charger-im-a-flat-car-battery-part-2/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Time Sensitive Networks — Audio Video Bridging</title>
		<link>https://nestdigital.com/blogs/time-sensitive-networks-audio-video-bridging/</link>
					<comments>https://nestdigital.com/blogs/time-sensitive-networks-audio-video-bridging/#respond</comments>
		
		<dc:creator><![CDATA[Radhika Krishnan]]></dc:creator>
		<pubDate>Tue, 25 Jul 2023 17:08:12 +0000</pubDate>
				<category><![CDATA[BLOGS]]></category>
		<category><![CDATA[Mobility]]></category>
		<guid isPermaLink="false">https://newwebsite.nestdigital.com/?p=4527</guid>

					<description><![CDATA[Have you ever noticed how the live streaming of an event becomes uninteresting when the video and audio of the event are played on big screens without synchronization? It is generally termed as lack of lip sync. Audio Video Bridging (AVB) is a technology developed to address the streaming issues in industrial events, where live [&#8230;]]]></description>
										<content:encoded><![CDATA[<div id="bsf_rt_marker">
<p id="8264">Have you ever noticed how the live streaming of an event becomes uninteresting when the video and audio of the event are played on big screens without synchronization? It is generally termed as lack of lip sync.</p>



<p id="5c4f">Audio Video Bridging (AVB) is a technology developed to address the streaming issues in industrial events, where live streaming events faced issues due to loss of synchronization between audio and video data, played at different points. AVB is presented as a protocol enhancement to the Ethernet network, which is the cheapest and most commonly available networking technology available.</p>



<p id="5381"><strong>AVB in automotive network:</strong></p>



<p id="c647">Over the past few years, multimedia technologies used in automobiles have increased considerably, owing to the consumer demands and evolving technologies. Features such as media playback from multiple sources (USB / Bluetooth / Wi-Fi / YouTube / Radio), surround view cameras, and built in navigation support have become commonplace options in many mainstream automobiles. Rear Seat Entertainment (RSE) units are growing in sophistication with more sources and choices at your fingertips. Each of these options has added to the need and desire for a common networking architecture in the automobile.</p>



<p id="7c25">Even though CAN is the universally accepted networking technology in automobiles, the varied requirements of multimedia usage like scalability, QoS, cost, bandwidth requirements provides an open door to other technologies as well.</p>



<p id="9945">The networking solutions used in automobiles have different constraints ranging from the deterministic nature of network to the temperature sensitivity of the cabling materials used. The IEEE 802.1 Audio Video Bridging (AVB) task group and the IEEE 1722 AVTP working group offers a standards-based approach for highly reliable networked transmission for low-latency applications like those found within an automobile. Wired Ethernet networks employing AVB protocols are very well suited to automotive deployment due to both simplified cabling and reliability of a hard-wired solution.</p>



<p id="1439">Initially, AVB was used in automotive networks for infotainment systems to distribute media data and also for transmitting control data among other components in the cockpit domain.</p>



<h1 class="wp-block-heading" id="1224"><strong>How AVB works</strong></h1>



<p id="13d4">AVB is an enhancement to the Ethernet suite of open standards. It provides quality of service (QoS) guarantees, a network time synchronization service, and a related transport protocol for transmission of time-sensitive traffic that together allow a network to handle audio-visual (AV) data. In the automotive environment, it can also satisfy more generalized time-sensitive networking requirements, opening up the possibility of a single network that handles infotainment, body control, driver assistance and even safety-critical functions.</p>



<p id="e756">AVB uses different concepts to meet its requirements, which are defined in different Ethernet standards as amendments. The major concepts are network time synchronization, data priority, stream reservation and traffic shaping and queueing. To enhance the feature sets, there is dynamic device discovery and enumeration and control features, but this is rarely used in automobiles.</p>



<p id="6512">AVB network consists of Talker — the component that streams the media (camera, media player, mobile phone), Listeners — component that renders the received media (display module, speakers) and AVB switches and bridges — connecting the different AVB and non-AVB components in the network.</p>



<p id="80d8">An ethernet network becomes AVB enabled, when the clock of all the AVB enabled devices becomes synchronized with a Grand Master clock. The grand master clock is provided by one of the network components and all other devices will accept the master clock as their clock. Without synchronizing, AVB communication does not happen. When a talker is ready to do the streaming (a user selects play button), it sends out a&nbsp;<em>Talker Ready</em>message, with the stream information and the switch will send this packet to all the connected devices. The listeners, who are capable of rendering the talker’s stream responds with&nbsp;<em>Listener Ready</em>&nbsp;message. The stream is reserved by MRP packets, where the talkers and listeners join a VLAN with&nbsp;<em>MRP Join</em>message. The talker will start streaming, as soon as it receives at least one&nbsp;<em>Listener Ready</em>&nbsp;message. Once the streaming is completed, the devices leave the VLAN using&nbsp;<em>MRP Leave</em>&nbsp;message and the stream reservation ends.</p>



<p id="9020">All the AVB packets will contain a time, presentation time, which specifies the time on which the data should be played back. This time is based on the synchronized clock and is calculated based on the listener who is farthest from the talker. All the listeners will be able to recreate the media data and the presentation time from the received packet and will be played at the presentation time specified. This is how AVB achieves synchronized play back at all the listeners.</p>



<h2 class="wp-block-heading" id="fcf4"><strong>AVB Network Components:</strong></h2>



<p id="6720">AVB Network consists of AVB enabled bridge and AVB enabled end points. The network limit stops when a non-AVB bridge comes in between.</p>



<p id="2942">AVB Switch / Bridge — Identifies AVB messages, routes it to the right devices.</p>



<p id="bcf2">End points — Talkers and listeners.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1050/1*CoCPYlKqtR-RmTmt6Rld9g.png" alt=""/><figcaption class="wp-element-caption">AVB Network components (Image credit: AVnu alliance)</figcaption></figure>



<p id="906c">In an AVB network, upto 7 hops (bridges) are supported. The maximum network delay between a talker and a listener in an AVB network is 2 ms. This means that even if there are 7 bridges between a talker and a listener, a packet will reach from the talker to the listener within 2 ms. This is ensured by creating and communicating the presentation time of each frame by the talker. The presentation time is calculated based on the link delay to each node in the network.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1062/1*Xjh2yNZwepM7Gvxk3ZP1Yw.png" alt=""/><figcaption class="wp-element-caption">Data transmission (Image credit:AVnu alliance)</figcaption></figure>



<h1 class="wp-block-heading" id="d8a0"><strong>Technology Overview</strong></h1>



<p id="8fe2">The IEEE 802.1 AVB and IEEE 1722 standards form the foundation for the technology promoted by AVnu alliance, along with the enhancements to other 802.1 technologies for bridges and switches.</p>



<p id="2f50">The foundational standards for AVB are explained in the below sections.</p>



<p id="bed2"><strong>IEEE 802.1AS (PTP) based on IEEE 1588:</strong></p>



<p id="0f7c">PTP is Precision Time Protocol, which ensures that all AVB capable devices in a network uses a single clock provided by a common Grand Master. There can be multiple devices in the network capable of providing master clock. The Grand master is selected from these devices by running the Best Master Clock Algorithm (BMCA). The devices with the same grand master shall be able to communicate with each other directly. The messages that are used in time synchronization mechanism are:&nbsp;<em>Announce, Sync and Follow up.&nbsp;</em>The devices in the network calculate the delay from each other by sending&nbsp;<em>Path Delay Request</em>&nbsp;and from the&nbsp;<em>Path Delay Response</em>. The synchronization message flow is:</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1050/1*f2z1V5H4ZE7IPF8p0nQwiw.png" alt=""/><figcaption class="wp-element-caption">PTP Message flow (Image credit:AVnu alliance)</figcaption></figure>



<p id="0816"><strong>IEEE 802.1Qat — Stream Reservation:</strong></p>



<p id="17ba">AVB has two classes of data — class A (every 125 micro seconds) and class B (every 250 micro seconds). The media data (audio and video) are normally sent using class B. To achieve this transmission timing requirement, the available bandwidth has to be reserved when there is an AVB data is ready to send. The bandwidth reservation shall also be teared down when the transmission is completed. A maximum of 75% of available bandwidth shall be reserved for AVB transmission. This stream reservation is defined by 802.1Qat specification. This is normally implemented by talkers and AVB switches.</p>



<p id="c8de">When a talker is ready to transmit data, it will send a&nbsp;<em>Talker Advertise</em>&nbsp;with the stream information — type of stream, media type, etc. When a listener who is ready to accept and play back this stream receives the advertisement, it will respond with&nbsp;<em>Listener Ready</em>&nbsp;message. There can be more than one listeners sending the&nbsp;<em>Listener Ready</em>, accepting all or partial media announced by the talker. The talker will start the transmission only if it receives at least one&nbsp;<em>Listener Ready</em>&nbsp;message. If there is error,&nbsp;<em>Talker Advertise failed / Listener Ready failed</em>&nbsp;are the messages transmitted.</p>



<p id="4c97">Before starting the transmission, the bandwidth will be reserved by sending&nbsp;<em>MRP request</em>&nbsp;and the talker and listeners can join a VLAN announced in the MRP using&nbsp;<em>MRP Join</em>&nbsp;request and can leave the network using&nbsp;<em>MRP Leave</em>request. This will also tear down the bandwidth allocation.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:896/1*wJv2cThTdiYZKlQIiRUSag.png" alt=""/><figcaption class="wp-element-caption">Stream Reservation Message flow</figcaption></figure>



<p id="63cc"><strong>IEEE 802.1Qav — Forwarding and Queuing</strong></p>



<p id="916d">Along with stream reservation, a forwarding and queuing mechanism is also implemented in AVB to ensure that the packets are not dropped. Like SRP, talkers and bridges implement FQTSS and this is mostly implemented in the hardware. Credit shaped algorithm is used for the queuing mechanism and the credit is given if at least one frame is available in the queue and the&nbsp;<em>transmitAllowed</em>&nbsp;signal is True for the queue. The packet is launched when the credit reaches a maximum value. It ensures that if a frame is queued in the priority class, it will get the transmission bandwidth at regular intervals, which will not be more than 125 micro seconds for class A and 250 micro seconds for class B.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1050/1*Eo4SeWzi0W8yc0VmvcArog.png" alt=""/><figcaption class="wp-element-caption">Credit shaped queueing (Image Credit: AVnu alliance)</figcaption></figure>



<p id="bd1c"><strong>IEEE 1722 — AVB Transmission Protocol (AVTP)</strong></p>



<p id="057d">AVTP specifies the packet format and the requirements to transmit an AVB packet through network. Talkers start the transmission and listeners receives and recreates the packets. The bridges ensures that the packets are sent at proper time and stream reservation is created and removed according to the transmission .</p>



<p id="4de2">One important point to notice in AVTP is that the packets are transmitted to pre-defined&nbsp;<em>multicast addresses</em>. Point-to-point transmission is not done in AVB. This is because there can be multiple listeners, waiting to receive the packets and all of them need to play back the data at the same time. Point-to-point transmission will need more bandwidth and the timing issues will occur.</p>



<p id="83d9">Each AVTP packet will contain the streaming data, along with a timing information that mentions when to play back the received data. This&nbsp;<em>presentation time</em>&nbsp;is provided by the talker and is calculated based on the listener node that is farthest from the talker. All listeners recreate the presentation time and it will be aligned with the synchronized global time, hence the time for the packets at all listeners will be same. This is&nbsp;<em>media clock recovery</em>.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1050/1*r5H0kA4mk5gl02AuSOyfyw.png" alt=""/><figcaption class="wp-element-caption">AVB Software modules (Image credit: AVnu Alliance)</figcaption></figure>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1080/1*2Qsf7GUlRMEqSCH-ieBfIA.png" alt=""/><figcaption class="wp-element-caption">AVTP frame format (Image credit: AVnu alliance)</figcaption></figure>



<p id="9735"><strong>IEEE 1722.1 — Discovery, Enumeration and Control (AVDECC)</strong></p>



<p id="370a">In networks, where nodes (talkers and listeners) are dynamically added and removed, device discovery protocol is used. A control module is needed to handle the AVDECC protocol, which can be a stand alone module or part of any other node.</p>



<p id="91d9">The AVDECC protocol lets the nodes identify the stream ID and verify if it is suitable for the node configurations. It also allows control data flow — like volume control dynamically without the use of a parallel communication path. The features of a stream will be announced by the talker and it will be enumerated in a standard way so that the listeners and bridges will be able to decode and understand.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1050/1*uCycAaJayVvkGXaguq1WDg.png" alt=""/><figcaption class="wp-element-caption">AVDECC flow (Image credit: AVnu alliance)</figcaption></figure>



<h1 class="wp-block-heading" id="5d3b"><strong>Open AVnu</strong></h1>



<p id="e69d">OpenAvnu is an AVnu sponsored repository for Time Sensitive Network (TSN and AVB) technology. The code is in C programming language, works in Linux operating system and is primarily created for Intel’s i210 Ethernet card as the hardware platform.</p>



<p id="cf07">The openAvnu source code is used by most of the AVB / TSN stack developers to customize their own stack since it provides a base for directory structure, build mechanisms and source code arrangement.</p>



<p id="d324">It supports different media mapping schemes and also provides sample applications to use the stack.</p>



<h1 class="wp-block-heading" id="8e40"><strong>TSN (Time Sensitive Network)</strong></h1>



<p id="2ca1">AVB and TSN are more or less same technology, where TSN offers more deterministic services through ethernet. Currently, the AVB task group is renamed as TSN and the OpenAVnu stack supports TSN.</p>



<p id="32c7">The summary of TSN components are given below. Most of the components are same as AVB, providing more reliability, low latency, better resource management and better synchronization.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*3jrP8czIRUqwzAfa5AmMqw.png" alt=""/><figcaption class="wp-element-caption">TSN components (source credit —<a href="https://medium.com/tech-blogs-by-nest-digital/www.ieee802.org" rel="noreferrer noopener" target="_blank">&nbsp;</a><a href="http://www.ieee802.org/" rel="noreferrer noopener" target="_blank">www.ieee802.org</a>)</figcaption></figure>



<h1 class="wp-block-heading" id="033f"><strong>AVB stack customization:</strong></h1>



<p id="cddf">At NeST Digital, we have customized OpenAVnu AVB stack in different phases for developing talker and listener on various embedded platforms like i.mx6Q and i.mx8M for automotive applications, in infotainment area. The customized stack is verified with OpenAvnu stack (original version), NXP AVB stack, Renesas AVB camera module and AVB switches from NXP, Marvell and Renesas. The pre-certification testing is done with Spirent tool.</p>



<p id="f4b5">The media types used for custom AVB stack are: MP3 audio, H264 video, Raw audio from AM/FM tuner, Miracast stream from Android phone.</p>



<h1 class="wp-block-heading" id="8e3d"><strong>Issues faced:</strong></h1>



<p id="cfa6">Some of the issues that we faced during the OpenAvnu AVB stack customization are:</p>



<ol>
<li>MRP daemon was sending all frames, regardless of talker / listener and packet received or not.</li>



<li>gPTP daemon was hardcoded for many parameters. Hence not able to execute for features like automotive profile.</li>



<li>NXP stack expected the listener simulated a fast connect, even though it was not connected to the NXP talker earlier.</li>



<li>OpenAvnu Listener was connecting only to one stream — audio or video at a time.</li>



<li>gPTP daemon was not connecting to other gPTP domains to execute BMCA algoritm</li>



<li>In i.mx8M listener, ~1 sec jump observed while playing video</li>



<li>Stack had to stop and start every time a stream is completed.</li>



<li>H264 camera data was unable to process by the OpenAVnu listener</li>



<li>After reboot, delay was observed from i.mx8M talker to transmit data.</li>



<li>i.mx8M talker was always sending the data through one queue, the FQTSS was not getting effective and standard data packets were suffering packet loss</li>
</ol>



<h1 class="wp-block-heading" id="b3aa"><strong>Summary:</strong></h1>



<p id="a888">The blog is expected to give an overview of Audio Video Bridging, the key technologies behind the feature and the details of how an open source AVB code, sponsored by AVnu alliance was used to develop a custom AVB software stack for multiple hardware platforms with added feature sets.</p>
</div>]]></content:encoded>
					
					<wfw:commentRss>https://nestdigital.com/blogs/time-sensitive-networks-audio-video-bridging/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>“Hello Mr. EV Charger, I’m a flat car battery!” (Part-1)</title>
		<link>https://nestdigital.com/blogs/hello-mr-ev-charger-im-a-flat-car-battery-part-1/</link>
					<comments>https://nestdigital.com/blogs/hello-mr-ev-charger-im-a-flat-car-battery-part-1/#respond</comments>
		
		<dc:creator><![CDATA[Ram Mohan Ramakrishnan]]></dc:creator>
		<pubDate>Tue, 25 Jul 2023 17:06:29 +0000</pubDate>
				<category><![CDATA[BLOGS]]></category>
		<category><![CDATA[Mobility]]></category>
		<guid isPermaLink="false">https://newwebsite.nestdigital.com/?p=4524</guid>

					<description><![CDATA[Abstract Electric car users need to frequently recharge the traction battery, and while doing so they need to be assured of an efficient, safe and interoperable experience, be it AC charging or DC charging. EV Charging standards assure users that they can charge their car from any compatible EV Charger. Apart from electrical protection that [&#8230;]]]></description>
										<content:encoded><![CDATA[<div id="bsf_rt_marker">
<h2 class="wp-block-heading" id="fd1e"><strong>Abstract</strong></h2>



<p id="f33b">Electric car users need to frequently recharge the traction battery, and while doing so they need to be assured of an efficient, safe and interoperable experience, be it AC charging or DC charging. EV Charging standards assure users that they can charge their car from any compatible EV Charger. Apart from electrical protection that is mandated by regulations to handle an untoward safety situation, bidirectional communication in real time between the EV Charger and the car is required throughout the charging session to ensure that the charging capabilities and limitations are mutually understood and any mismatches and unsafe conditions are proactively avoided. Protocol standards for EVSE-EV communication enable the EV Charger and the car to talk to each other towards fulfilling this objective.</p>



<h2 class="wp-block-heading" id="84de"><strong>Introduction</strong></h2>



<p id="e7a7">Ever wondered how an EV Charger knows what current to charge the car battery at? Contrast this with filling up a petrol/diesel car. Is filling up at different rates of fuel flow even relevant! We know liquid fuel is always pumped at the same flow rate, no matter which model and irrespective of whether the tank is empty or near-full.</p>



<p id="9ec9">Further, how does the EV Charger know how much time to charge the battery? In other words, how does it know when exactly to stop charging? In contrast, in a petrol/diesel pump a simple mechanism consisting of an auxiliary sensing tube mounted on the nozzle along with a mechanical valve based on venturi effect (based on pressure difference of the fluid at either end) is employed for automatic cut off of fuel flow when the tank is full. The same mechanism could also be activated manually to stop filling while looking at a particular readout on the fuel meter, or for a pre-set quantity.</p>



<h2 class="wp-block-heading" id="9ebe"><strong>Communication, for intelligence beyond power transfer</strong></h2>



<p id="42f0">From these differences it is obvious that the EV Charger (and the electric car itself) need to have much more intelligence compared to their fossil fuel counterparts. Welcome to the lesser known world of EVSE-EV communications! (Where EVSE stands for Electric Vehicle Supply Equipment which is the terminology for EV Charger, and EV refers to the car.)</p>



<p id="e1b9">Now that the “WHYs” of EVSE-EV communication are amply illustrated, let’s see “HOW” exactly the communication happens, and over what medium. If you’re an EV user, you would have used the charging gun of an EV Charger already by plugging it into your car’s inlet to charge. Take a closer look at the charging connector — although the primary purpose of the connector design is to transfer electric power, a few additional pins (apart from the power pins) are provided for communication. Let’s zoom in on the charging gun of the Combined Charging System 2 (CCS2) (group of) standard(s), that is predominant in Europe and has also been adopted in India, and their connector pinouts. Firstly, the CCS2 AC Charging connector.</p>



<h2 class="wp-block-heading" id="cd47"><strong>EVSE-EV Communication (AC Charging Connector)</strong></h2>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*mbCyB0tXg4NkL6s8pnTQBw.png" alt=""/><figcaption class="wp-element-caption">AC Connector Pinout</figcaption></figure>



<p id="cbf1">As we can see in the above 2 pictures, out of the 7 pins provided in the AC connector, 4 are reserved for (1Phase/3Phase) AC power transfer — Phase1 (R), Phase2 (Y), Phase3 (B) and Neutral. Whereas, 3 pins are dedicated for EVSE-EV communication — Control Pilot (CP), Proximity Pilot (PP) and Protective Earth (PE), which forms the ground reference.</p>



<p id="280d">Now, the CCS2 DC Charging connector.</p>



<h2 class="wp-block-heading" id="35ad"><strong>EVSE-EV Communication (DC Charging Connector)</strong></h2>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*GkUAS5rkbv1YorEMAxBy2w.png" alt=""/><figcaption class="wp-element-caption">DC Connector Pinout</figcaption></figure>



<p id="331c">As we can see in the above 2 pictures, out of the 5 pins provided in the DC connector, 2 are reserved for DC power transfer — DC + and DC -. Whereas, 3 pins are dedicated for EVSE-EV communication — Control Pilot (CP), Proximity Pilot (PP) and Protective Earth (PE), which forms the ground reference.</p>



<p id="30ed">As we can see, these communication pins have quaint names — Control Pilot (CP) and Proximity Pilot (PP). The CP pin is used for most of the signalling related to electrical power transfer, whereas the PP pin provides feedback on whether the car is currently plugged in or not. The Protective Earth (PE) pin acts as the ground reference for the other 2 signals.</p>



<p id="c54a">CCS2 also has the Combo plug, that includes power pins for both AC and DC charging in the same connector. However, the communication pinout (CP, PP and PE) remains the same as described above, in position as well as in function.</p>



<h2 class="wp-block-heading" id="5ccd"><strong>EVSE-EV Communication (Combo Connector)</strong></h2>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*p31N2xSbUh7cMlsK2RF1BQ.png" alt=""/><figcaption class="wp-element-caption">Combo Connector Pinout</figcaption></figure>



<p id="fce5"><strong>Note:</strong>&nbsp;In other popular EV Charging standards, like CCS1/SAEJ1772 (US), CHAdeMO (Japan), GB/T (China) and Tesla (global), the pin names, positions and electrical function may vary across each other, but a few dedicated pins are always provided for communication.</p>



<h2 class="wp-block-heading" id="fce5"><strong>Types of EVSE-EV communication</strong></h2>



<p>Two types of communication are possible between the EV Charger and the car. For the CCS2 system, these are:<br>1. Analog Signalling (AS), defined by the IEC61851 standard (the successor of the US SAE J1772)<br>2. High Level Communication (HLC), defined by the ISO15118 standard (the successor of the German DIN SPEC 70121, that covers only DC Charging)</p>



<p id="dd8a">Analog Signalling is the elementary communication mechanism between the EV Charger and the car over dedicated signal lines. Whereas HLC implements digital message communication to implement additional (and a few optional) functionality. In this (first) part, we take a closer look at how Analog Signalling works. In the next (second) part, we will deep dive into High Level Communication.</p>



<h2 class="wp-block-heading" id="c27a"><strong>Analog Signalling</strong></h2>



<p id="9d20">Analog Signalling as the name indicates, employs electronic circuitry on the EV Charger and on the car for generating as well as detecting specific voltage levels and wave patterns (having specific timing characteristics) across specific signal lines. Analog Signalling protocol is defined by the IEC 61851 standard (Electric Vehicle Conductive Charging System) that defines the levels of voltages and currents, modes of charging, connectors and safety aspects for both AC Charging and DC Charging.</p>



<p id="ff1e">The 2 specific pins used for Analog Signalling are Control Pilot (CP) and Proximity Pilot (PP), with the Protective Earth (PE) pin acting as the ground reference. The pilot signal generated by the EV Charger is a +12V to -12V square wave at 1000Hz.</p>



<p id="8297">Discrete voltage levels or waveforms on the Control Pilot line represent different states to the EV Charger and the car. The duty cycle of the square wave itself represents the current that will be transferred in the current charging session. The following table captures the discrete voltage levels and waveforms on the CP line and the interpretation of each electrical pattern by the EV Charger.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*OZX3bVvOQFhMQ74ZSuTmVQ.png" alt=""/><figcaption class="wp-element-caption">Analog Signalling States</figcaption></figure>



<p id="2801">(*) PWM — Pulse Width Modulation, a standard method of varying the pulse width of a square wave.</p>



<p id="3796">(**) Ventilation — This is typically not required for Lithium Ion batteries of today. It is only a carry-over left in the protocol from the Lead Acid battery days, which needed active ventilation to dissipate hazardous gases emitted during charging. If the EV Charger is located in an enclosed area, an exhaust fan is typically turned on.</p>



<h2 class="wp-block-heading" id="88fb"><strong>Example scenarios</strong></h2>



<p id="b835">Let us look at a few communication scenarios involving Analog Signalling. For instance, when the EV Charger sees +12V DC on the Control Pilot line, it knows that the car is not yet plugged in, so it waits. As soon as the voltage drops to +9V DC, it knows that the car is plugged in. Internally the car presents a specified resistance when it is plugged in, that causes this voltage drop/transition.</p>



<p id="f756">Similarly, when the EV Charger sees that its pilot signal that was a +12V to -12V square wave at 1000Hz, is now having the positive side chopped down at +9V (due to the resistance presented by the car), with the negative side still at -12V, it knows that the car that is plugged is preparing to receive power, but not yet ready. As soon as the positive side gets further chopped down to +6V (due to increased resistance presented by the car), with the negative side still at -12V, it knows that the car is now ready to receive power. In response to this state transition, the EV Charger closes the output contactor thereby connecting electrical power to the car.</p>



<p id="e969">From this, we can infer how the EV Charger knows when to stop charging. In this case the wave pattern would changes from a +6V to -12V square wave, back to a +9V to -12V square wave (due to decrease in the resistance presented by the car). In response to this state transition, the EV Charger opens the output contactor thereby disconnecting electrical power from the car. This could happen because the BMS system (***) controlling the car battery decided that the battery is now “fully charged” (****) now, and it is time to stop charging. It could also happen if an emergency safety condition was detected during the session that warranted immediate charging shutdown. Either way, the car is requesting to stop charging.</p>



<p id="13bf">(***) BMS — The car battery gets charged under full supervision of the Battery Management System. The BMS controls the rate at which the battery pack is charged, equalizing cell voltages and ensuring temperatures do not rise up dangerously, besides deciding when to stop charging.</p>



<p id="6880">(****) “Fully charged” — Most EV OEMs and Lithium Ion battery manufacturers typically set a guard band on the upper level of battery charge. Hence although it may display 100% on the dashboard, the real battery level would be somewhere in the 80% to 90% range.</p>



<h2 class="wp-block-heading" id="6441"><strong>Rate of charging (or charging current)</strong></h2>



<p id="eb60">Ok, so how does the Charger know at what current to transfer power to the car in the charging session? As we saw earlier, the duty cycle of the square wave is utilized for this purpose. As we know, the duty cycle is 50% if the square wave is symmetrical.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*fadFrz2PXlAqkCFOxmYMsw.png" alt=""/><figcaption class="wp-element-caption">PWM with 50% Duty Cycle</figcaption></figure>



<p id="c3eb">As we increase the pulse width on the positive direction, it gets closer to 100%, where most of the time it has positive value.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*UQ659NLRFTFE4h1p63sV_g.png" alt=""/><figcaption class="wp-element-caption">PWM with 75% Duty Cycle</figcaption></figure>



<p id="13d2">Whereas if we increase the pulse width on the negative direction, it gets closer to 0%, where most of the time it has negative value.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*h0qK0y4YQ5EMaJJv7XA9pw.png" alt=""/><figcaption class="wp-element-caption">PWM with 25% Duty Cycle</figcaption></figure>



<p id="2857">The EV Charger therefore generates a square wave as per the IEC61851 Standard, to signal the charging current value. So, what is the correlation between the duty cycle of the square wave and the current? Here is where it involves a little bit of abracadabra!</p>



<p id="9db8">Firstly, the full range of current from 6A to 80A is split across 2 ranges:<br>Lower range: 6A to 51A<br>Upper range: 51A to 80A</p>



<p id="a691">Why this bizarre split range? We will see soon.</p>



<p id="0f96">Secondly, the formula in the lower range to convert duty cycle (%) to current (A) is<br><strong>A = Duty cycle (%) x 0.6</strong></p>



<p id="fc3c">However, the relation of current and duty cycle is not linear throughout the range.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*j2bTyKK5u4G3to5xhrbs8g.png" alt=""/><figcaption class="wp-element-caption">Current Vs Duty Cycle</figcaption></figure>



<p id="3a64">The initial part of the curve has a relatively steep slope, with an increase of 6A for every 10% increase in duty cycle.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*lcO5ORr961u0SWk05KR48w.png" alt=""/><figcaption class="wp-element-caption">Lower range (Current Vs Duty Cycle)</figcaption></figure>



<p id="5cde">At the inflection point of 51A, the curve changes to a milder slope. So that is what necessitates a split range.</p>



<p id="11ca">To accommodate for this gradient change, the formula in the second range (beyond 51 A) changes to&nbsp;<br><strong>A = (Duty cycle (%) — 64) x 2.5</strong></p>



<p id="650a">So, the remaining part of the curve has a milder slope, with an increase of 5A for every 2% increase in duty cycle.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1342/1*tKuRIKgZYZJSX14GlEE3qg.png" alt=""/><figcaption class="wp-element-caption">Upper range (Current Vs Duty Cycle)</figcaption></figure>



<p id="93a7">From this relation, we can see that&nbsp;<br>1) The valid range of duty cycle of the square wave is between 10% and 96%.&nbsp;<br>2) 10% duty cycle corresponds to 6A charging current.<br>3) 50% duty cycle (symmetrical square wave) corresponds 30 A charging current.<br>4) 96% duty cycle corresponds to 80A charging current.</p>



<h2 class="wp-block-heading" id="253e"><strong>Connected or not</strong></h2>



<p id="94d1">Ok, now how does the car know that it is connected properly to the EV Charger or not? For safety it is very important that the car ‘knows’ that it is securely connected to the EV Charger.</p>



<p id="5730">Here is where the Proximity Pilot (PP) pin (also known as Plug Present) is useful. The Proximity Pilot in the plug serves this purpose by creating a circuit via a resistor to the Protective Earth (PE) pin. Firstly, if the connection is not proper it allows to disable the charging process for safety. Further, it helps prevent the user driving off accidentally with the charging gun inserted.</p>



<p id="cbcc">Thus, by applying a voltage to Proximity Pilot (PP) pin, the car detects a voltage drop when the charging gun is connected to its inlet as this will create an electric circuit. This provides a signal to the car’s control system to prevent any movement while being connected to the EV Charger. It provides an additional function (*****) of signalling the latch release (optional) button to the car, so that the car could initiate a controlled shut off prior to the electrical disconnection of the power pins.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*DUAjq6xn1AO5Jc_mkrSZXQ.png" alt=""/><figcaption class="wp-element-caption">Connection State Vs PP Voltage</figcaption></figure>



<p id="03c3">At SFO Technologies (the flagship company of NeST group), we test our EV Charger designs using a Battery Communications Simulator. The Simulator presents an identical interface of the car, and works exactly like a car. It provides an identical connector and pinout just like a CCS2 compliant car. It works on the same Analog Signalling protocol, mimicking exact voltages, waveforms and timing characteristics as defined by the IEC61851 standard, that the EV Charger thinks it is connected to a real car! This standards compliance of the design ensures it will work correctly with any compliant car model.</p>



<p id="2fd8">(*****) Additional function — The PP pin also includes a legacy function of detecting the capacity of charging cables that are not tethered to the EV Charger, and hence their current capacity is unknown to the EV Charger. To ensure safe charging, it first makes sure that the cable has enough capacity for the current that it is planning to supply before actually transferring power. For this the resistance value on the PP line is adjusted such that the current flowing when measured gives an indication of the cable’s capacity. This function is not relevant nowadays, since the charging cable is an integral part of the EV Charger and hence its capacity is already known.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*mj8kIgMZRXh7_OU8G4W63Q.png" alt=""/><figcaption class="wp-element-caption">Power cable capacity Vs PP Resistance</figcaption></figure>



<h2 class="wp-block-heading" id="2370"><strong>To be continued…</strong></h2>



<p id="3a87">In all of this communication by raw voltages, waveforms and their timings that starts as soon as the car is plugged in, one cannot simply miss the ingenuity of the protocol at the basic electrical level — simple, yet functional! Analog Signalling is implemented entirely at the hardware level, using simple electronic circuitry consisting of discrete/analog components and mixed signal ICs. The average software engineer could understandably be left shrugging at all those voltage levels and waveforms, while it’s pure delight for the hardware engineer! I promise I will make the next (second) part on High Level Communication equally (or more) exciting for the software engineer as well.</p>
</div>]]></content:encoded>
					
					<wfw:commentRss>https://nestdigital.com/blogs/hello-mr-ev-charger-im-a-flat-car-battery-part-1/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Discover the Benefits of Knative for Serverless Applications</title>
		<link>https://nestdigital.com/blogs/discover-the-benefits-of-knative-for-serverless-applications/</link>
					<comments>https://nestdigital.com/blogs/discover-the-benefits-of-knative-for-serverless-applications/#respond</comments>
		
		<dc:creator><![CDATA[Dhanesh]]></dc:creator>
		<pubDate>Tue, 25 Jul 2023 17:03:10 +0000</pubDate>
				<category><![CDATA[BLOGS]]></category>
		<category><![CDATA[Cloud Computing]]></category>
		<guid isPermaLink="false">https://newwebsite.nestdigital.com/?p=4522</guid>

					<description><![CDATA[The focus of this blog is to provide an overview of serverless computing and the Knative platform, its features, and benefits. The goal is to explain how Knative can help organizations build and deploy serverless applications more efficiently and effectively. In the mid-2000s, there were a few developments that laid the foundation for what would [&#8230;]]]></description>
										<content:encoded><![CDATA[<div id="bsf_rt_marker">
<p id="5b88">The focus of this blog is to provide an overview of serverless computing and the Knative platform, its features, and benefits. The goal is to explain how Knative can help organizations build and deploy serverless applications more efficiently and effectively.</p>



<p id="4fef">In the mid-2000s, there were a few developments that laid the foundation for what would eventually become serverless computing. One key development was the emergence of cloud computing, which made it possible to provision computing resources on-demand and at scale, without the need for on-premises infrastructure. Another important development was the rise of event-driven computing, which allowed developers to trigger code execution in response to events such as changes to a database, a new file appearing in a storage bucket, or a new message being sent to a queue. This event-driven approach enabled developers to build highly responsive and scalable applications that could scale automatically based on demand.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*-5Mo2kgGFhlnejJ4wtmhmA.png" alt=""/><figcaption class="wp-element-caption">Sample Event Driven application</figcaption></figure>



<p id="e772"><strong><em>What is Serverless Computing?</em></strong></p>



<p id="91d1">Serverless computing allows organizations to focus on building and deploying their applications without having to worry about the underlying infrastructure. This can reduce the cost and complexity of managing and scaling applications and provide greater flexibility and scalability. Additionally, serverless computing can enable organizations to innovate faster and more efficiently, by allowing them to build and deploy new applications and features more quickly and at a lower cost. Furthermore, serverless computing can also improve the reliability and availability of applications, as the cloud provider typically manages the infrastructure and provides built-in availability and scalability features.</p>



<p id="77b2">Serverless computing first emerged as a cloud computing model, in which the cloud provider manages the infrastructure and dynamically allocates machine resources to run users’ applications. This approach eliminates the need for users to provision or manage any servers. Instead, users are only charged for the precise amount of computing resources consumed by their application, which is typically measured in terms of invocations, execution time, and data processed.</p>



<p id="2348">With serverless platforms like Knative built on top of Kubernetes, the platform can be deployed anywhere, and the dependency on cloud infrastructure is eliminated. This means that any organization can benefit from serverless features, regardless of whether they move to the cloud. For example, an organization with a shared infrastructure team can deploy a serverless platform using Kubernetes and Knative on their data center VMs (Virtual Machine). Alternatively, they can build the platform on top of a cloud platform like AWS, Azure, or GCP, or use a managed Knative-based serverless platform in the cloud, such as Google Cloud Run or IBM Cloud Code Engine.</p>



<p id="e98d">The first widely adopted serverless computing platform, AWS Lambda, was introduced by Amazon Web Services in 2014. Since then, other cloud providers such as Microsoft Azure, Google Cloud Platform, and IBM Cloud have also introduced their own serverless computing offerings, further expanding the capabilities and options available to developers.</p>



<p id="3789">One of the latest additions to the serverless ecosystem is Knative, an open-source project that provides a set of building blocks for deploying and managing serverless applications on Kubernetes. Knative abstracts away many of the complexities of deploying and managing serverless applications on Kubernetes, making it easier for developers to focus on writing code.</p>



<p id="0b5b"><strong><em>What is Knative?</em></strong></p>



<p id="69cd">Knative is a serverless application layer designed specifically for developers, and it works well alongside the existing Kubernetes application constructs. It is a CNCF (Cloud Native Computing Foundation) incubating project, which means it is backed by a community of experts and organizations committed to advancing cloud-native technologies.</p>



<p id="e134">Knative provides an essential set of components for building and running serverless applications on Kubernetes. Created with contributions from over 50 different companies, Knative includes features like scale-to-zero, autoscaling, in-cluster builds, and an eventing framework for cloud-native applications. Knative can be used on-premises, in the cloud, or in a third-party data center. Most importantly, Knative enables developers to focus on writing code, without needing to worry about the challenging and mundane aspects of deploying and managing their applications.</p>



<p id="7cad">Knative is made up of two components: “Knative Serving,” which is a container runtime that can automatically scale based on HTTP requests, and “Knative Eventing,” which is a routing layer for Events asynchronously sent over HTTP.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*wahZpVe9xRUri3uoD1S1FQ.png" alt=""/><figcaption class="wp-element-caption">*Reference: Knative home page</figcaption></figure>



<p id="5663"><strong><em>Knative Serving:-</em></strong></p>



<p id="5e30">Knative Serving is responsible for handling incoming requests and auto-scaling applications based on traffic. When a request is received, Knative Serving routes the request to the appropriate service, which then processes the request and returns a response. Knative Serving uses a routing mechanism to direct requests to the appropriate service based on the request URL or other criteria.</p>



<p id="8f41"><strong>How does Knative Serving work behind the scene?</strong></p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1398/1*Bc4ZHiWcte2Zbc28JXtHyA.png" alt=""/><figcaption class="wp-element-caption">Knative Serving</figcaption></figure>



<ol>
<li>The developer deploys a serverless workload on Knative Serving by creating a Kubernetes Custom Resource Definition (CRD) object.</li>



<li>Knative Serving automatically creates and manages a set of resources, including Services, Routes, Configurations, and Revisions.</li>



<li>The&nbsp;<strong>Service&nbsp;</strong>resource manages the entire lifecycle of the workload and creates other objects such as Routes and Configurations.</li>



<li><strong>Routes&nbsp;</strong>define the network endpoint that will be used to access the workload, and Configurations define the desired state of the workload deployment.</li>



<li>When a&nbsp;<strong>Configuration&nbsp;</strong>is modified, it generates a new Revision, which represents a snapshot of the code and configuration at that specific time.</li>



<li><strong>Revisions&nbsp;</strong>are immutable objects that can be scaled up or down automatically based on incoming traffic. Knative Serving uses the Knative Pod Autoscaler (KPA), which is built on top of Kubernetes Horizontal Pod Autoscaler (HPA), to manage the scaling of Revisions based on the configured scaling rules and observed resource utilization, including request throughput and concurrency.</li>



<li>KPA provides a more responsive and dynamic scaling experience by automatically scaling to zero when there is no incoming traffic, and quickly scaling up when there is a sudden increase in traffic.</li>



<li>The Serverless Workload is accessed by sending requests to the network endpoint defined by the Route resource.</li>
</ol>



<p id="4a85"><em>Knative Eventing:-</em></p>



<p id="8f84">Knative Eventing is a set of APIs that enable an event-driven architecture for the applications. With these APIs, we can build components that route events from event producers to event consumers, known as sinks. Sinks can receive events or respond to HTTP requests by sending a response event.</p>



<p id="73d6">The communication between event producers and sinks in Knative Eventing is based on standard HTTP POST requests. The events themselves follow the CloudEvents specifications, which allows for easy creation, parsing, sending, and receiving of events in any programming language.</p>



<p id="928b">Knative Eventing components are loosely coupled, which means that they can be developed and deployed independently of each other. This flexibility allows event producers to generate events before active event consumers are listening for them. Similarly, event consumers can express interest in a particular class of events before any producers are creating those events.</p>



<p id="83e4"><strong><em>Use cases for Knative:-</em></strong></p>



<p id="156d">Knative is a platform for building, deploying, and managing modern, cloud-native applications, and is commonly used for a variety of use cases, including:</p>



<ol>
<li><strong>Web Applications:</strong>&nbsp;Knative can be used to build and deploy web applications, providing a scalable and flexible platform for delivering dynamic, interactive web experiences.</li>



<li><strong>Backend Services</strong>: Knative can be used to build and deploy backend services, such as APIs and data processing pipelines, providing a scalable and flexible platform for processing enormous amounts of data.</li>



<li><strong>Microservices</strong>: Knative can be used to build and deploy microservices, providing a scalable and flexible platform for building complex, highly distributed applications.</li>
</ol>



<p id="ad0b"><strong>The benefits of using Knative in these use cases include:-</strong></p>



<ol>
<li>Increased Agility: Knative provides a flexible and scalable platform for building, deploying, and managing modern, cloud-native applications, making it possible to quickly respond to changing business needs and bring new features and capabilities to market more quickly.</li>



<li>Reduced Costs: Knative provides a cost-effective platform for building and deploying applications, by making it possible to allocate resources only when they are needed, reducing the cost of running your applications.</li>



<li>Improved Scalability: Knative provides a scalable platform for building and deploying applications, making it possible to handle large numbers of users and enormous amounts of data, without provisioning additional resources.</li>
</ol>



<p id="6880"><strong><em>Conclusion</em></strong></p>



<p id="308d">Knative provides a powerful and flexible platform for building and deploying modern, cloud-native applications with the benefits of autoscaling and event-driven capabilities. By leveraging the power of Kubernetes and Kourier, Knative allows you to deploy and manage your serverless applications and functions with ease, all within a familiar and established environment. Whether you are looking to build an event-driven architecture or simply need a more efficient way to run your applications at scale, Knative can help.</p>



<p id="be2e">In terms of the future of serverless computing, we will see continued growth and adoption in the coming years, as more organizations look for ways to reduce costs, increase agility, and improve scalability. Knative is well-positioned to play a key role in this future, by providing a flexible and scalable platform for building, deploying, and managing serverless applications.</p>



<p id="c42b"><strong><em>Links</em></strong></p>



<ol>
<li><a href="https://knative.dev/docs/getting-started/" rel="noreferrer noopener" target="_blank">https://knative.dev/docs/getting-started/</a></li>



<li><a href="https://knative.dev/docs/install/" rel="noreferrer noopener" target="_blank">About installing Knative — Knative</a></li>



<li><a href="https://tekton.dev/" rel="noreferrer noopener" target="_blank">https://tekton.dev/</a></li>
</ol>



<p id="e237"><strong><em>FAQ</em></strong></p>



<p id="d3e7">Q1,&nbsp;<em>What is Knative Building?</em></p>



<p id="c4f6">Knative Building wasa component of the Knative platform that enables you to automatically build container images from source code. It provides a simple and flexible way to build, test, and deploy container images without having to manage complex build pipelines or infrastructure.</p>



<p id="3da7">Knative Building has been deprecated in favor of Tekton Pipelines, and Tekton Pipelines is a standalone project not a component of Knative.</p>



<p id="55dd">Tekton Pipelines is a powerful and flexible platform for building, testing, and deploying container images in a Kubernetes-native way. It provides a rich set of building blocks that can be combined to create complex CI/CD pipelines, and it supports a wide range of programming languages and software-build systems.</p>



<p id="44b8">While Knative Building is still supported in some Knative distributions, users are encouraged to use Tekton Pipelines for building and deploying container images in a Kubernetes environment. Tekton Pipelines is also widely used in other Kubernetes platforms such as OpenShift and Google Cloud Build.</p>



<p id="e83c">Q2,&nbsp;<em>What are some managed KNative options?</em></p>



<p id="faa1">There are a few managed Knative options available that provide a fully managed platform for building, deploying, and managing serverless workloads on Kubernetes. All the below options provide you a platform to deploy containerized applications and functions on a fully managed Knative environment and scale up or down based on demand</p>



<p id="2a4c"><em>Google Cloud Run</em>: Google Cloud Run is a fully managed Knative-based platform on Google Cloud Platform (GCP). Cloud Run also provides integration with other GCP services, such as Cloud Build and Cloud Logging.</p>



<p id="6812"><em>Red Hat OpenShift Serverless</em>: Red Hat OpenShift Serverless is a fully managed Knative-based platform on Red Hat OpenShift. OpenShift Serverless also provides integration with other Red Hat OpenShift services, such as Build and Tekton.</p>



<p id="1f20"><em>IBM Cloud Code Engine</em>: IBM Cloud Code Engine is built on top of Knative and provides a simplified experience for deploying containerized workloads to a fully managed Knative environment. Code Engine also provides integration with other IBM Cloud services, such as IBM Cloud Object Storage and IBM Cloud Databases.</p>



<p id="b031">Q3,&nbsp;<em>What are other serverless solutions work on top of Kubernetes?</em></p>



<p id="c5ee">Several serverless solutions work on top of Kubernetes. Some of the popular ones are:</p>



<p id="b34c"><em>Kubeless</em>: Kubeless is a Kubernetes-native serverless framework that allows you to deploy small bits of code (functions) without having to worry about the underlying infrastructure. It supports several languages such as Python, NodeJS, and Go, and can be used to build event-driven applications.</p>



<p id="364a"><em>OpenFaaS</em>: OpenFaaS (Function as a Service) is a popular open source serverless framework that can be deployed on top of Kubernetes. It supports several programming languages such as Python, Node.js, and Go, and provides features such as auto-scaling, metrics, and a CLI for deploying and managing functions.</p>



<p id="9d67"><em>Fission</em>: Fission is a Kubernetes-native serverless framework that allows you to deploy functions quickly and easily. It supports several programming languages such as Python, Node.js, and Go, and provides features such as auto-scaling, in-cluster builds, and a CLI for deploying and managing functions.</p>



<p id="7ea2"><em>Kube9s</em>: Kube9s is a Kubernetes-native serverless framework that provides an event-driven architecture for building applications. It supports several programming languages such as Python, Node.js, and Go, and provides features such as auto-scaling, event-driven workflows, and a CLI for deploying and managing functions.</p>



<p id="c008"><em>KEDA</em>: KEDA acts as a Kubernetes operator, allowing you to deploy it to your Kubernetes cluster and configure it to scale your workloads based on the number of incoming events. KEDA is designed to work with any event source that can emit messages in response to events, such as Kafka, RabbitMQ, Azure Service Bus, and more.</p>



<p id="eed7">These are just a few examples of serverless solutions that work on top of Kubernetes. There are many other options available in the market, each with its own set of features and capabilities.</p>



<p id="9f65">Q4,<em>&nbsp;Can we use Knative with AWS Lambda or with Azure Functions?</em></p>



<p id="7b5b">AWS Lambda is a serverless computing service provided by Amazon Web Services (AWS). Similarly, Azure Functions is a serverless computing service provided by Microsoft Azure.</p>



<p id="1962">Knative is a platform that abstracts away the underlying infrastructure and provides a higher-level interface for developers to deploy their serverless workloads. Knative can work with any containerized workload, including AWS Lambda functions and Azure functions that have been packaged as Docker containers</p>



<p id="5e25">To use AWS Lambda or Azure Functions with Knative, you need to package your Lambda function as a Docker container and deploy it to a Kubernetes cluster using Knative Serving. You can also use Knative Eventing to integrate your Lambda functions with external event sources.</p>
</div>]]></content:encoded>
					
					<wfw:commentRss>https://nestdigital.com/blogs/discover-the-benefits-of-knative-for-serverless-applications/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>How to define a top-level folder structure for your Angular project</title>
		<link>https://nestdigital.com/blogs/how-to-define-a-top-level-folder-structure-for-your-angular-project/</link>
					<comments>https://nestdigital.com/blogs/how-to-define-a-top-level-folder-structure-for-your-angular-project/#respond</comments>
		
		<dc:creator><![CDATA[Venu Thomas]]></dc:creator>
		<pubDate>Tue, 25 Jul 2023 16:58:59 +0000</pubDate>
				<category><![CDATA[BLOGS]]></category>
		<category><![CDATA[Web Technology]]></category>
		<guid isPermaLink="false">https://newwebsite.nestdigital.com/?p=4518</guid>

					<description><![CDATA[So far, I’m working on a new project at Angular. My many fellow project workers asked me for Angular’s help. So I thought of writing an article for them. In this article, let me show you the perfect directory and file structure for any angular project. For this article, I am using Angular CLI in [&#8230;]]]></description>
										<content:encoded><![CDATA[<div id="bsf_rt_marker">
<p id="46cf">So far, I’m working on a new project at Angular. My many fellow project workers asked me for Angular’s help. So I thought of writing an article for them. In this article, let me show you the perfect directory and file structure for any angular project.</p>



<p id="9915">For this article, I am using Angular CLI in version 15.0.4 with Node in version 18.12.0</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*ivauMw4rqYpqTDd1Wui4_Q.jpeg" alt=""/></figure>



<p id="44ce">Let’s begin by creating an Angular project, for that we use the following command (you can use the CMD or terminal of your choice). In this case, I will use the terminal in the Visual Studio Code</p>



<pre class="wp-block-code"><code>ng new &lt;project-name&gt;</code></pre>



<p>For Example<a href="https://medium.com/tech-blogs-by-nest-digital/demystifying-data-mesh-9a34ad69108f?source=author_recirc-----7f677cc6ad74----1---------------------26e9a463_7e86_478c_b25a_ca475df1167f-------"></a></p>



<pre class="wp-block-code"><code>ng new MyNewProject</code></pre>



<p id="ff29">While execute this command, Angular CLI will ask you some questions.</p>



<ol>
<li><strong>Would you like to add Angular routing? (y/n)</strong>… This step is important as it asks whether you want to add routing to your app. This file is important as it lets us manage routes in our app. My recommendation is to add it.</li>



<li><strong>Which stylesheet format would you like to use?</strong>&nbsp;… It also asks you which stylesheet format you would like to add. My recommendation is to use SCSS. This type of stylesheet has all the perks of CSS, including the perks of&nbsp;<a href="https://sass-lang.com/" rel="noreferrer noopener" target="_blank">SASS</a>&nbsp;that. As stated on its official website is an CSS with superpowers.</li>
</ol>



<blockquote class="wp-block-quote">
<p><strong>NOTE</strong><em>:&nbsp;</em><em>While using the integrated git terminal. The creation command does NOT ask whether you want the project’s routing or style format. The default is to create them.</em></p>
</blockquote>



<p></p>



<p id="93c3">Once these steps have been completed, your project will continue to create. Now let’s create the project structure (from a new project).</p>



<h2 class="wp-block-heading" id="5db1">Directory structure sections</h2>



<p id="1caf">Now describing the 7 most important sections of how the project is structured (each section is optional). it would be the following:</p>



<ul>
<li><strong>Core module</strong>&nbsp;— The&nbsp;<em>CoreModule</em>&nbsp;assumes the role of the root&nbsp;<em>AppModule</em>. It is responsible for sustaining global services. In all likelihood, these services are HTTP services for communicating with an API. It is also used for storing guards, models and other global dependencies, such as http interceptor and global error controller. To maintain a well-structured and written codebase, we will group the typescript entities into their own folder within the core module (classes, enums, interfaces).</li>



<li><strong>Data module</strong>&nbsp;— We will store everything concerning the application data, such as API services, services for platform usage cases.</li>



<li><strong>Layout directory&nbsp;</strong>— The Layout directory contains the components declared on the&nbsp;<em>AppModule</em>. This directory contains page-level content components like menu, common header and footer. (This is within the Root Module)</li>



<li><strong>Shared module</strong>&nbsp;— The Shared Module contains code that will be used in all feature modules, it is used solely to maintain common components, pipes and directives throughout the application.</li>



<li><strong>Modules directory&nbsp;</strong>— In this section, you will find all the modules which will help to structure the application, such as authentication, registration, login and management modules.</li>



<li><strong>Styles</strong>&nbsp;— The styles directory serves to store SCSS style sheets for the application. It can contain themes, Bootstrap, angular material and any other style.</li>



<li><strong>Media directory</strong>&nbsp;— The Media directory can store support files for the app, things such as app logo, icons, images, and so on.</li>
</ul>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:600/1*LNsuYQGJzQMsgaU1dk0rjw.jpeg" alt=""/></figure>



<h2 class="wp-block-heading" id="2d27">Generation of modules and directories.</h2>



<p id="3e15">Then we will generate all the abovementioned directories. Remember that all these commands must be executed from the root of your app.</p>



<h2 class="wp-block-heading" id="a04e"><strong>Main module (core module)</strong></h2>



<pre class="wp-block-code"><code>ng g m core</code></pre>



<p>Once the module is created, add it to the import of the main module of the app.module.ts application (remember to do the corresponding import)</p>



<pre class="wp-block-code"><code>// src\app\app.module.ts

import { NgModule } from '@angular/core';
import { BrowserModule } from '@angular/platform-browser';
import { AppRoutingModule } from './app-routing.module';
import { AppComponent } from './app.component';
import { CoreModule } from '@core/core.module';

import { BrowserAnimationsModule } from '@angular/platform-browser/animations'

@NgModule({
declarations: &#91;
AppComponent
],

imports: &#91;
BrowserModule,
AppRoutingModule,
BrowserAnimationsModule,
CoreModule
],

providers: &#91;],

bootstrap: &#91;AppComponent]
})
export class AppModule { }</code></pre>



<blockquote class="wp-block-quote">
<p><strong>NOTE</strong><em>:&nbsp;</em><em>At this stage, I recommend adding the BrowserAnimationsModule this module allows integration of browser animations.</em></p>
</blockquote>



<p></p>



<p>I assure you that if you have used angular you have found the typical nesting, something that is quite difficult to sustain. if you have found that when you are importing a module, function or class you need to:</p>



<pre class="wp-block-code"><code>import {&lt;moduleName&gt; } from '../../../&lt;moduleFileName&gt;'</code></pre>



<p>That is an utter mistake to use. as well as broadening the lines of code and making it insatiable and illegible. This doesn’t look good. Now we’re correcting that. Well, that’s quite simple. we must edit the&nbsp;<em>tsconfig.json</em>&nbsp;file and you must make sure that in baseUrl is “./src”, this so that when adding the shortness it takes them from src and in paths, we will add @app, @core, @shared, @components, @env, @module, @data and @layout.</p>



<pre class="wp-block-code"><code>{
"compilerOptions": {
"baseUrl": "./src",
"paths": {
"@app/*": &#91;"app/*"],
"@core/*": &#91;"app/core/*"],
"@shared/*": &#91;"app/shared/*"],
"@components/*": &#91;"app/shared/components/*"],
"@env/*": &#91;"environment/*"],
"@modules/*": &#91;"app/modules/*"],
"@data/*": &#91;"app/data/*"],
"@layout/*": &#91;"app/layout/*"]
   }
 }
}</code></pre>



<p>Now, the difference is that when you import a resource, you can do it like this:</p>



<pre class="wp-block-code"><code>import { &lt;moduleName&gt; } from '@modules/&lt;moduleFileName&gt;';</code></pre>



<p>like in&nbsp;<em>AppModule</em></p>



<pre class="wp-block-code"><code>import { CoreModule } from './core/core.module';</code></pre>



<p>to</p>



<pre class="wp-block-code"><code>import { CoreModule } from '@core/core.module';</code></pre>



<h2 class="wp-block-heading">Data module</h2>



<pre class="wp-block-code"><code>ng generate module data</code></pre>



<p>OR</p>



<pre class="wp-block-code"><code>ng g m data</code></pre>



<p id="841e">Once you have created this module, you need to create the following directories inside the data module.</p>



<ul>
<li><strong>Constants</strong>&nbsp;— Directory for storing application constants such as static data, page paths, APIs paths, and so on. Tactics, page routes, apis routes, etc.</li>



<li><strong>Interfaces</strong>&nbsp;— These models contain Angular application models defined by entities.</li>



<li><strong>Mocks</strong>&nbsp;— This is particularly helpful for testing, but you can also use it to retrieve fictitious data until the back-end is installed. The simulation directory contains all the simulated files in our application.</li>



<li><strong>Services\api</strong>&nbsp;— The services folder is one of the core module’s main folders, since it provides the various call services to the endpoints of one or more Rest APIs.</li>
</ul>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:700/1*B3THHYpAFCIZLICXcbZ8Zw.jpeg" alt=""/></figure>



<h2 class="wp-block-heading" id="60b8">Layout directory</h2>



<pre class="wp-block-code"><code>mkdir src/app/layout</code></pre>



<p>This directory can be used to define the basic elements of a web application. In that case, we will define the application’s header, footer and main page. Don’t forget that these commands are executed from the root of your application.</p>



<pre class="wp-block-code"><code>ng g c layout/mainpage
ng g c layout/header
ng g c layout/footer</code></pre>



<blockquote class="wp-block-quote">
<p><strong>INFO</strong><em>:&nbsp;</em><em>“ng g c” means short of “ng generate component”</em></p>
</blockquote>



<p></p>



<p id="9648">You can use the — skip-tests argument in commands, this argument indicates that these components will be generated without their test files(like&nbsp;<em>&lt;yourfile&gt;.spec.ts</em>). You can remove this argument and create that file if you want.</p>



<p id="82b5">At this point it is important that you check that your application has imported the generated components into the declarations of the main module file of&nbsp;<em>app.module.ts</em>.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*OZcHVu1YFNBFW0Wx-jqDhw.jpeg" alt=""/><figcaption class="wp-element-caption">src\app\app.module.ts</figcaption></figure>



<p id="b3b4">If the components have been successfully imported into your&nbsp;<em>app.module.ts.</em>Go to&nbsp;<em>app.component.html</em>&nbsp;and remove all its contents, just make sure that you have the application router:</p>



<pre class="wp-block-code"><code>&lt;!-- src\app\app.component.html --&gt;

&lt;router-outlet&gt;&lt;/router-outlet&gt;</code></pre>



<p>Now we are going to add our header and footer components to the main page of the application.</p>



<pre class="wp-block-code"><code>&lt;!-- src\app\layout\mainpage\mainpage.component.html --&gt;

&lt;!-- Header --&gt;
&lt;app-header&gt;&lt;/app-header&gt;

&lt;!-- Page --&gt;
&lt;router-outlet&gt;&lt;/router-outlet&gt;

&lt;!-- Footer --&gt;
&lt;app-footer&gt;&lt;/app-footer&gt;</code></pre>



<blockquote class="wp-block-quote">
<p><strong>NOTE</strong><em>:&nbsp;</em><em>The header and footer selectors will be named according to the name used to create these components.</em></p>
</blockquote>



<p></p>



<h2 class="wp-block-heading">Shared module</h2>



<pre class="wp-block-code"><code>ng g m shared</code></pre>



<p id="1af1">Once this module is created, you need to add it to the import of the main module of the&nbsp;<em>app.module.ts</em>&nbsp;application.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*pUnRsTPMT5FZ00vxxeR5_Q.jpeg" alt=""/><figcaption class="wp-element-caption">src\app\app.module.ts</figcaption></figure>



<p id="4058">The shared module is a great place to import and export the&nbsp;<em>FormsModule</em>and&nbsp;<em>ReactiveFormsModule</em>&nbsp;for use with forms in the application. It is also good for the&nbsp;<em>HttpClientModule</em>&nbsp;and RouterModule to do HTTP requests and move between application routes.</p>



<p id="cb16">This module’s directory may look something like this:</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:700/1*ArILhWProBacZe2r8G9OFA.jpeg" alt=""/></figure>



<blockquote class="wp-block-quote">
<p><strong>NOTE</strong><em>:</em><em>&nbsp;The use of barrel files may be very useful for reducing imports.</em></p>
</blockquote>



<p></p>



<pre class="wp-block-code"><code>// src\app\shared\shared.module.ts

import { NgModule } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule, ReactiveFormsModule } from '@angular/forms';
import { RouterModule } from '@angular/router';
import { HttpClientModule } from '@angular/common/http';

@NgModule({
  declarations: &#91;],
  imports: &#91;
    CommonModule,
    FormsModule,
    ReactiveFormsModule,
    HttpClientModule,
    RouterModule
  ],

  exports: &#91;
    CommonModule,
    FormsModule,
    ReactiveFormsModule,
    HttpClientModule,
    RouterModule
  ]
})
export class SharedModule { }</code></pre>



<h2 class="wp-block-heading" id="01e0">Module directory</h2>



<p id="cfa7">This directory contains modules which are separate from one another. This allows Angular to load only the module it needs to view the query, saving bandwidth and speeding up the entire app. Since&nbsp;<a href="https://en.wikipedia.org/wiki/Lazy_loading" rel="noreferrer noopener" target="_blank">Lazy Loading</a>&nbsp;is used.</p>



<p id="cf9a">To do that, each module should have its own routing, which is a&nbsp;<em>loadChildren</em>route resource defined in the&nbsp;<em>AppRoutingModule</em>.</p>



<p id="bf9d">For our application we are going to generate three modules, a home (dashboard), contact and about.</p>



<pre class="wp-block-code"><code>ng g m modules/&lt;module-name&gt; - routing</code></pre>



<p>For example:</p>



<pre class="wp-block-code"><code>ng g m modules/home - routing
ng g m modules/about - routing
ng g m modules/contact - routing</code></pre>



<p id="6e8f">Whenever we create a module, it is necessary to import our&nbsp;<em>SharedModule</em>model as illustrated below.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*vUUIDd0cAAzI1a6jiXIXig.jpeg" alt=""/><figcaption class="wp-element-caption">src\app\modules\home\home.module.ts</figcaption></figure>



<h2 class="wp-block-heading" id="802b">Media directory</h2>



<p id="c5d6">The Media directory can store support files for the app, things such as app logo, icons, images, and so on.</p>



<pre class="wp-block-code"><code>mkdir media</code></pre>



<h2 class="wp-block-heading" id="181c">Generate a main page component for each module</h2>



<p id="7d2a">Now we are going to create the main pages of each module (Home (Dashboard), About, Contact).</p>



<pre class="wp-block-code"><code>ng g c modules/&lt;module-name&gt;/pages/&lt;page-name&gt;</code></pre>



<p>For example:</p>



<pre class="wp-block-code"><code>ng g c modules/home/pages/home
ng g c modules/about/pages/about
ng g c modules/contact/pages/contact</code></pre>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:700/1*VWObXHv34upy5gArn98uQQ.jpeg" alt=""/></figure>



<blockquote class="wp-block-quote">
<p><strong>NOTE</strong><em>:&nbsp;</em><em>Once we create our main page elements, we need to define the path for the main element of the created module. In the routing of each module</em></p>
</blockquote>



<p></p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*INuY0zn-GsiADDRZJlRRuQ.jpeg" alt=""/><figcaption class="wp-element-caption">src\app\modules\home\home-routing.module.ts</figcaption></figure>



<h2 class="wp-block-heading" id="37b7">Loading modules using LazyLoading</h2>



<p id="45b0">To inject our modules created by lazy loading:</p>



<pre class="wp-block-code"><code>//src\app\app-routing.module.ts

import { NgModule } from '@angular/core';
import { RouterModule, Routes } from '@angular/router';
import { MainpageComponent } from '@layout/mainpage/mainpage.component';
import { AboutModule } from '@modules/about/about.module';
import { ContactModule } from '@modules/contact/contact.module';
import { HomeModule } from '@modules/home/home.module';

const routes: Routes = &#91;

  {
    path: '',
    component: MainpageComponent,
    children: &#91;
      {
        path: 'home',
        loadChildren: () =&gt; import('@modules/home/home.module').then((m):typeof HomeModule =&gt; m.HomeModule)
      },
      {
        path: 'about',
        loadChildren: () =&gt; import('@modules/about/about.module').then((m):typeof AboutModule =&gt; m.AboutModule)
      },
      {
        path: 'contact',
        loadChildren: () =&gt; import('@modules/contact/contact.module').then((m):typeof ContactModule =&gt; m.ContactModule)
      }
    ]
  }
];

@NgModule({

  imports: &#91;RouterModule.forRoot(routes, {useHash: true})],
  exports: &#91;RouterModule]
})

export class AppRoutingModule { }</code></pre>



<h2 class="wp-block-heading" id="434c">Configuration for recharging our routes</h2>



<p id="8b65">This setup is important because it will allow us to correctly reload our application’s pages and paths when our project is in production or hosting.</p>



<p id="acb9">In the main application example module app.module.ts in the provider section, we add the strategy for reloading routes:</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*tgLxi2keJmNM6yqN6Jtecw.jpeg" alt=""/><figcaption class="wp-element-caption">src\app\app.module.ts</figcaption></figure>



<p id="b942">Also, in the&nbsp;<em>app-routing.module.ts</em>&nbsp;file in the import section, add the following</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*1TaF13_6ibkDK_eg6aikUw.jpeg" alt=""/><figcaption class="wp-element-caption">src\app\app-routing.module.ts</figcaption></figure>



<h2 class="wp-block-heading" id="0faf">Verification</h2>



<p id="e37e">At this point we can check if the application is functioning properly. we can execute one of the following commands</p>



<pre class="wp-block-code"><code>ng serve
ng serve -o</code></pre>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:900/1*g6k0DSiuCaUNEWuwECwgpw.jpeg" alt=""/><figcaption class="wp-element-caption">Home Page</figcaption></figure>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:900/1*nTuke17FqPNBHaksmXN_eA.jpeg" alt=""/><figcaption class="wp-element-caption">About Page</figcaption></figure>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:900/1*9SQmsETtiaU3iKDkU7MNgg.jpeg" alt=""/><figcaption class="wp-element-caption">Contact Page</figcaption></figure>



<p id="47a0">Our app is functioning properly, I CONGRATULATE YOU!! 👏</p>



<h2 class="wp-block-heading" id="5816">Other considerations</h2>



<p id="48b9">When I generate a new module, it contains two folders, one for pages and the other for components. The page directory contains the components which act as the pages of our module. As the component directory contains components that can be reused on the pages of our module (example: titles, buttons, loaders etc.).</p>



<p id="22d0">To produce them, you can use this command:</p>



<pre class="wp-block-code"><code>ng g c modules/&lt;module-name&gt;/components/&lt;component-name&gt;</code></pre>



<blockquote class="wp-block-quote">
<p><em>There is no general rule with respect to the creation of a folder structure in Angular, especially in large projects. The structure will change enormously according to the project’s characteristics. The general idea in this article is to maintain an orderly and coherent application that is explained on its own to the extent possible.</em></p>
</blockquote>



<p></p>



<p id="5e25">Thank you for reading this article! ❤️</p>



<p id="ee26">I uploaded this source to git :&nbsp;<a href="https://github.com/venuthomas/AngularFileStructure" rel="noreferrer noopener" target="_blank">https://github.com/venuthomas/AngularFileStructure</a></p>



<p id="7fdc">Remember first that you need to have everything set up (Angular and Node installed) in order for it to work properly.</p>
</div>]]></content:encoded>
					
					<wfw:commentRss>https://nestdigital.com/blogs/how-to-define-a-top-level-folder-structure-for-your-angular-project/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>The d/dt of EV Charging</title>
		<link>https://nestdigital.com/blogs/the-d-dt-of-ev-charging/</link>
					<comments>https://nestdigital.com/blogs/the-d-dt-of-ev-charging/#respond</comments>
		
		<dc:creator><![CDATA[Ram Mohan Ramakrishnan]]></dc:creator>
		<pubDate>Mon, 24 Jul 2023 15:07:34 +0000</pubDate>
				<category><![CDATA[BLOGS]]></category>
		<category><![CDATA[Mobility]]></category>
		<guid isPermaLink="false">https://newwebsite.nestdigital.com/?p=4511</guid>

					<description><![CDATA[Abstract Slow charging time, along with other hurdles like range anxiety, has been plaguing EV adoption for many years now. While charging overnight from AC mains supply at home is really slow, Fast DC chargers at the roadside and along highways help charge the car battery within a reasonable time. Charging time depends on multiple [&#8230;]]]></description>
										<content:encoded><![CDATA[<div id="bsf_rt_marker">
<h2 class="wp-block-heading" id="eaf1"><strong>Abstract</strong></h2>



<p id="f9b9">Slow charging time, along with other hurdles like range anxiety, has been plaguing EV adoption for many years now. While charging overnight from AC mains supply at home is really slow, Fast DC chargers at the roadside and along highways help charge the car battery within a reasonable time. Charging time depends on multiple variables, such as the charging station’s power, battery capacity, charging capability of the car and ambient temperature. One needs to be careful in equalizing these variables while making comparisons to avoid ending up with inaccurate judgements. While the industry has responded with Fast chargers and innovations in Ultra-Fast charging technologies, battery designs haven’t quite kept pace. High costs of installation and charging, widespread compatibility issues across EVs and the potential impact on battery life have been blockers in a resolution to the charging time problem.</p>



<h2 class="wp-block-heading" id="af58"><strong>Introduction</strong></h2>



<p id="ac20">How would you react when told that your electric car could now charge fully in only a few minutes! Or, if you don’t have an EV already, is the charging time a mental block for considering buying one? Well, the solution may just have arrived. Announced by ABB in the fall of 2021 as the world’s fastest electric car charger, the Terra360 fully charges an electric car in under 15 minutes!</p>



<p id="bc37">Generations of petrol/diesel car users have enjoyed fill up times of only a few minutes. Even a fill up from empty to full tank takes hardly 5–10 minutes. Whereas users of electric cars (both pluggable hybrid and battery electric) have learned to wait patiently for at least an hour or more after hooking up the car to a public charging station for getting fully charged — a stark contrast, indeed! For instance, the Tata Nexon EV specifies around 60 minutes to charge from 10% to 80% from a Fast DC charger, as an acquaintance of mine confirms with his 2 years old model. While Hyundai Kona EV specifies 0% to 80% in 57 minutes. “Why only 80%, why not 100%” would be the natural question, which we will address a bit later. (*)</p>



<h2 class="wp-block-heading" id="bc90"><strong>Charging levels</strong></h2>



<p id="f392">The stereotype of charging at a public charging station is technically called Level-3 charging, or more commonly as Fast Charging. However, this isn’t the only way of charging. An electric car could be charged at home as well although much more slowly, a convenience that petrol/diesel car users never had. Charging from an AC charger located in the garage or parking lot from a power socket of 15–16A rating, that would typically take 7–10 hours for a full charge, is technically called Level-2 charging. For instance, the Tata Nexon EV specifies around 9 hours 10 minutes to charge from 10% to 90% from a 15A AC socket, which was confirmed by the same acquaintance. While Hyundai Kona EV specifies around 6 hours for 0% to 100% charge. This way is ideal for overnight charging.</p>



<figure class="wp-block-image aligncenter"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:450/1*Bo6jPI0qzkrxm08lZIgcTw.jpeg" alt=""/><figcaption class="wp-element-caption"><br></figcaption></figure>



<p class="has-text-align-center"><em>ABB Terra 54kW DC Fast Charger (Image courtesy: ABB)</em></p>



<figure class="wp-block-image aligncenter"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:142/1*2vTEaG0zLVERFLnnYQXMwg.png" alt=""/><figcaption class="wp-element-caption"><br></figcaption></figure>



<p class="has-text-align-center"><em>Schneider Electric “EVLink” 7.4kW AC Home Charger (Image courtesy: Schneider Electric)</em></p>



<p id="d37b">Slow charging from a domestic AC charger is not a concern for most users since it happens overnight, conveniently. But when it comes to charging at a public charging station, especially in the middle of a long journey at the roadside or along the highway, that is when the charging time becomes a serious concern. In fact, charging time is acknowledged as one of the adoption hurdles for most petrol/diesel users thinking of switching over to electric. That is exactly where the likes of Terra360 deliver the knockout punch! (**)</p>



<h2 class="wp-block-heading" id="8585"><strong>Battery charge rate measurement</strong></h2>



<p id="c5b8">Let’s take a moment to peep under the hood to understand why electric charge won’t flow into a car battery as quickly as petrol/diesel flows into the fuel tank, why even “fast” charging has been relatively slow! The Lithium Ion battery, the most prominent chemistry of today, charges at a fairly uniform rate (for example, 5% charge in every 4 minutes) up to a threshold of around 80%. Minor variations could exist in the threshold value across battery designs. Beyond that threshold, the last lap to 100% charge takes up almost the same amount of additional time. Incidentally that last lap isn’t desirable for Lithium Ion battery either.</p>



<p id="3abf">(*) That is why most manufacturers limit it to 80% charge while specifying charging time.</p>



<p id="82c3">Further, the rate of charging is a function of several variables like (but not limited to) power output of the charging station, the car’s battery capacity and the charging capability of the car. Ambient temperature also impacts charging rate, although to a lesser degree. So, while comparing charging times across different vehicle makes/models, if one is not careful enough in equalizing most of the variables if not all, then one could end up with an unrealistic comparison.</p>



<p id="35db">For instance, the battery capacity could vary across EVs — like 30.2 kWh Li Ion battery for the Tata Nexon EV, versus 39.2 kWh Li Ion Polymer battery for the Hyundai Kona EV.</p>



<figure class="wp-block-image aligncenter"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*ahrcPFubtT5JmoEfOp3o1g.png" alt=""/></figure>



<p class="has-text-align-center"><em>Electrical specifications (Courtesy: Tata Motors, Hyundai Corporation)</em></p>



<p id="4cd7">Similarly, without knowing whether the charger used was from Exicom or Delta Electronics and its power rating, a straight comparison between charging time measurements wouldn’t be a level playing field.</p>



<figure class="wp-block-image aligncenter"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:282/1*xHmvgotVWrVfiCn1t_q5Ew.png" alt=""/></figure>



<p class="has-text-align-center">Delta Electronics 200kW Fast DC Charger (Image courtesy: Delta Electronics)</p>



<figure class="wp-block-image aligncenter"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:274/1*0yWGiRPBCs8b346yqSDlQA.png" alt=""/></figure>



<p class="has-text-align-center"><em>Exicom 240kW DC Fast Charger (Image courtesy: Exicom)</em></p>



<p id="e9e2">The charging capability of the EV is determined by its Battery Management System (BMS), which is the intermediary that accepts power from the charging station and ensures that the battery gets charged efficiently and safely. The BMS controls the rate at which the battery pack is charged, equalizing cell voltages and ensuring temperatures do not rise up dangerously. Since BMS of each make/model vary in their characteristics, we can expect a resultant difference in charging rates, even with cars of the same battery capacity at the same charging station.</p>



<p id="9424">The State of Charge (SoC) or battery level before starting the charging operation has an obvious impact on the overall charging time. A battery would obviously take the longest time to fully charge when it in a fully discharged condition. To compensate for variations in the start SoC % and the end SoC % across different measurements, the metric “% charge added per charging time” or the charging rate (d/dt), is found more useful. That means we consider only the middle range of charge between 10% (or 20%) and 80%, and we measure what % of the battery gets charged (on an average, across multiple measurements, on the same battery), in how many minutes of charging time. One could argue that “range added per charging time”, a range rate metric, as used by many OEMs is a better metric. For instance, delivering 160 km of range in 3 minutes of charging. However, the range rate metric would also include the overall efficiency of the EV itself, including that of its traction motor, transmission system, regenerative braking etc., and therefore it wouldn’t be an accurate metric of battery charging rate per se.</p>



<p id="38a8">So how are Fast Chargers tested before they get approval for public use? At SFO Technologies (the flagship company of NeST group), we test our 50kW DC Fast Charger design by simulating a car battery. Setting a (virtual) battery capacity of 30.2kWh (similar to Tata Nexon EV), it takes typically around 26 minutes to charge from 10% to 80% of (virtual) battery level. Since there is no real BMS in this test setup, this virtual d/dt reading cannot be compared to the charging time of a real car battery. Certification by the Automotive Research Association of India (ARAI) is expected in Q2 of 2023, after which charging times with actual EVs, like Tata Nexon, Hyundai Kona etc. could be measured.</p>



<h2 class="wp-block-heading" id="c364"><strong>Industry trends and issues</strong></h2>



<p id="4445">The industry has so far been approaching resolution of charging time by pushing steadily for Fast Charging and more recently Ultra-Fast Charging, led by the iconic Tesla superchargers. There are however a few issues involved, the first to hit users being the charging cost. Compared to the cost of AC charging, the average charging cost for the user increases 4 to 6-fold for Fast charging and even more for Ultra-Fast charging. Infrastructure costs for the charging operator are also considerably higher for Fast Charging stations, and even more so for Ultra-Fast Charging stations. The latter may need the input feeder power equivalent of 5–6 households given their huge power rating, for instance the Terra360 delivers a whopping 360kW!</p>



<p id="c6bd">(**) However, launches of the likes of Terra360 do not address the “prime accused” of all adoption hurdles — range anxiety! That is where the battery chemistry wars are being fought today for improving EV range. Another parallel approach ongoing is to improve the density of charging infrastructure and predictability of its location, availability and compatibility, especially in vast geographies like India.</p>



<p id="65eb">Another issue with Ultra-Fast Chargers is EV compatibility. Although Tesla eventually pivoted their proprietary super chargers to support the European standard (with CCS Combo2 outlet) in their European installations, the general compatibility across EV makes/models is still very limited. While a few manufacturers like ABB and Tesla have been focused on steadily increasing the charging capacity of their charging stations, it remains a tall order for the highly fragmented EV and battery manufacturing segments, who have been lagging in making major breakthroughs in battery design, to absorb the high rate of energy efficiently as well as safely. As a result, a large spectrum of EVs continues to remain incompatible with these Ultra-Fast Chargers. So, although ABB Terra360 did launch in 2021, the day when you and I could get fully charged under 15 minutes no matter the make/model of EV, is still a while in the future.</p>



<p id="1714">Finally, at the physical level Ultra-Fast charging involves large currents in the 400A — 500A range flowing through the charging cable/connector that raises a lot of heat. Forced liquid cooling of the charging cables becomes mandatory, without which temperatures could shoot up dangerously. While occasional fast charging is generally considered safe for batteries, repeated fast charging (and ultra-fast charging) that elevates battery temperatures sharply and frequently, is known to be detrimental to the State of Health (SoH) or battery life. Given the imperfections of the BMS design, especially at extremes of ambient temperature or with mismatched cells, this has a potential to impact battery life.</p>



<h2 class="wp-block-heading" id="df90"><strong>Consumer concerns</strong></h2>



<p id="1b0b">Incidentally, high battery cost is the next in line to “range anxiety” among the adoption hurdles. The battery subsystem cost today stands at almost half the cost of the EV or more. In a price-sensitive market such as India where the vast majority of consumers still view buying a car as a lifetime investment, and the maximum OEM battery warranty is still only around 8 years or 160000 kms, the prospect of depreciation of the EV at the end of battery life/warranty is paralyzing! It is hardly surprising that even after several incentive schemes from different tiers of government, the much-awaited electric revolution is yet to flood a large market like India. And no wonder why the ABB Terra360 didn’t raise millions of eyebrows on the subcontinent!</p>



<p id="5155"><strong>Conclusion</strong></p>



<p id="c248">In conclusion, the cost of fast charging which depends on the utility tariffs and pricing plans set by charging infrastructure operators may eventually start to come down as demand picks up as well as density of charging infrastructure gets better. As Ultra-Fast charging technologies get more impetus from charger manufacturers, compatibility across EVs would probably continue to lag for some more time, since advances in battery design would take an independent cycle time to achieve. Meanwhile, the temperature and safety issues of Ultra-Fast chargers associated with the transfer of very high power will need to be assured for quick uptake among operators. Going by the industry’s pace of innovation in fast charging technologies, could the day be far off when one is not quite sure which one charges faster — a smartphone or an electric car!</p>



<p id="be2d"><a href="https://medium.com/tech-blogs-by-nest-digital/demystifying-data-mesh-9a34ad69108f?source=author_recirc-----7f677cc6ad74----1---------------------26e9a463_7e86_478c_b25a_ca475df1167f-------"></a></p>
</div>]]></content:encoded>
					
					<wfw:commentRss>https://nestdigital.com/blogs/the-d-dt-of-ev-charging/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Detecting Car Damage using YOLO</title>
		<link>https://nestdigital.com/blogs/detecting-car-damage-using-yolo/</link>
					<comments>https://nestdigital.com/blogs/detecting-car-damage-using-yolo/#respond</comments>
		
		<dc:creator><![CDATA[Atri Saxena]]></dc:creator>
		<pubDate>Mon, 24 Jul 2023 15:02:32 +0000</pubDate>
				<category><![CDATA[BLOGS]]></category>
		<category><![CDATA[Mobility]]></category>
		<guid isPermaLink="false">https://newwebsite.nestdigital.com/?p=4508</guid>

					<description><![CDATA[You might have heard of ADAS (Advanced driver assistance systems) in many cars nowadays, which are smart enough to detect the human in front of the car and apply brakes automatically. Have you thought what is the technology behind that? Leading car Manufacturers have stepped in to integrate ADAS into their cars. Existing ADAS technologies [&#8230;]]]></description>
										<content:encoded><![CDATA[<div id="bsf_rt_marker">
<p id="be2d">You might have heard of ADAS (Advanced driver assistance systems) in many cars nowadays, which are smart enough to detect the human in front of the car and apply brakes automatically. Have you thought what is the technology behind that? Leading car Manufacturers have stepped in to integrate ADAS into their cars. Existing ADAS technologies operate on visual cameras, RADARs, and LiDARs for the object detection. ADAS mainly depends on features such as high speed, high accuracy, low cost, and low power consumption.</p>



<p id="8b38">In this blog, we will talk about the real-time Object Detection technique YOLO (You Look Only Once). Not only that, I will share how YOLO can help us detect damage in the Car.</p>



<h2 class="wp-block-heading" id="0ecb">What is YOLO?</h2>



<p id="b84a">YOLO or You Look Only Once is a popular Object Detection technique. That means, it performs two tasks&nbsp;<strong>Object Classification</strong>&nbsp;&amp;&nbsp;<strong>Object Localization.</strong>Since, there are two tasks many Object detection algorithms such as R-CNN, Fast RCNN, Faster RCNN are using two-step or two neural networks. But as the name itself defines, YOLO — looks at the entire image at once, and only once which allows it to capture the context of detected objects. Due to the single network, it is much faster than other object detection algorithms and can perform real-time detection at 45 frames per second.</p>



<p id="4e73">There are various versions of YOLO you will find out, the first version was released in 2016, and version 3 which is discussed here was created in 2018. The official successors of YOLOv3 are YOLOv4, and the newly released YOLOv7, which is the current state-of-the-art object detector in 2022.</p>



<h2 class="wp-block-heading" id="45cc">YOLOv1 Architecture</h2>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*9ZlcXLNrbm_3WRhq_vPqoA.png" alt=""/><figcaption class="wp-element-caption">YOLO architecture from&nbsp;<a href="https://arxiv.org/pdf/1506.02640.pdf" rel="noreferrer noopener" target="_blank">original paper&nbsp;</a>modified by Author</figcaption></figure>



<p id="e348">The architecture works as follows:</p>



<ul>
<li>Resizing the Input image to 448 x 448 before going through the convolutional network.</li>



<li>In total, it contains 24 convolutional layers followed by 2 fully connected layers.</li>



<li>Uses 1&#215;1 convolution layers to reduce the channels, followed by 3&#215;3 convolutional.</li>



<li>Softmax is used for class predictions.</li>
</ul>



<h2 class="wp-block-heading" id="93b0">Difference between YOLOv1 and YOLOv3 Architecture</h2>



<ul>
<li>YOLOv3 uses 53 Convolutional layers and skip connections.</li>



<li>YOLOv3 uses logistic regression with binary cross-entropy loss. Since, there is possibility two classes(men &amp; Person) are there for a single box and using softmax imposes that each box has exactly one class which is mostly not the case.</li>
</ul>



<h2 class="wp-block-heading" id="aca7">How YOLO works?</h2>



<p id="7c18">Now you have understood the architecture, let&#8217;s try to understand how the YOLO algorithm works actually.</p>



<p id="6bf5">“<em>Let’s suppose we have built a YOLO Model to detect the damage in the car.</em></p>



<p id="bb95"><em>You will understand the whole process of how YOLO performs object detection; how to get image (B) from image (A)”</em></p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1322/1*3USXPnvUlUvtm8iiUfxZjg.png" alt=""/></figure>



<p id="c5ef">YOLO Algorithm works on the following four approaches:</p>



<ul>
<li><strong>Residual blocks</strong></li>



<li><strong>Bonding box regression</strong></li>



<li><strong>Intersection over Union (IoU)</strong></li>



<li><strong>Non-Maximum supression</strong></li>
</ul>



<ol>
<li><strong>Residual Blocks</strong></li>
</ol>



<p id="cc92">YOLO works on the idea of segmentation of the image into smaller parts. The image is divided into square grid of size SxS like:</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:908/1*0302JPOs_gq3CEERZL32Fg.png" alt=""/></figure>



<p id="feb4">The cell in which the center of the object is the cell responsible for detecting that object.</p>



<p id="11cf"><strong>2. Bonding box Regression</strong></p>



<p id="97c9">The next step is to determine the bonding boxes, each cell can have B bounding boxes. The value of B can be determined while creating model architecture.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1032/1*ONX754OSnxCnBp-Yy_el8A.png" alt=""/></figure>



<p id="a7e3">YOLO determines the values of these bonding boxes using a single regression module. Each of the bonding boxes are made up of 5 numbers + N class scores: confidence of box, x position, y position, width, height, and class score. Here confidence score will be between 0.0 and 1.0 with 0.0 means that there is no object in that cell and 1.0 means model is certain there is an object. x and y are the center of the predicted bounding box and width &amp; height are the fractions relative to the image size. Class score are confidence of particular class.</p>



<p id="65ac"><strong>3. Intersection over Union (IoU)</strong></p>



<p id="8ca6">Many times, a single image can have multiple boxes for a single object. IoU helps to find the most relevant box. IoU values lies between 0 and 1. IoU is the area of the Intersection of predicted and ground truth boxes divided by the area of the Union of predicted and ground truth boxes.</p>



<ul>
<li>The user can define the threshold value for IoU such as 0.5.</li>



<li>Thereafter, it ignores boxes with IoU ≤ 0.5 and only considers boxes with IoU &gt; 0.5.</li>
</ul>



<p id="142e"><strong>4. Non-Max Supression</strong></p>



<p id="ef13">Even after applying the IoU technique, there is a possibility that there are more than one boxes for an object. For dealing with that we choose the box with the highest value of confidence score of detection and suppress the Non-max values.</p>



<p id="e5c2">Therefore, the model finally predicts&nbsp;<strong><em>S × S × (C + B&nbsp;</em>∗ 5<em>).</em></strong></p>



<p id="cc48">S = No of grids</p>



<p id="64ef">C = Number of classes</p>



<p id="9ace">B= Number of bonding boxes per grid cell.</p>



<h2 class="wp-block-heading" id="91fc">YOLO Training — Damage detection</h2>



<p id="af52">For the training of damage detection in cars, we have used the dataset available on Kaggle:&nbsp;<a href="https://www.kaggle.com/datasets/lplenka/coco-car-damage-detection-dataset" rel="noreferrer noopener" target="_blank">MS COCO car damage detection.</a></p>



<p id="92a7">This dataset contains 59 train images, 11 validation images, and 8 test images.</p>



<p id="673c">As we can see data is too small. For that, we have used a pre-trained YOLO model on the MS COCO dataset which contains 80 categories. We have replaced the final layers and freezed the rest of the model. Then trained for 100 epochs with data augmentation.</p>



<figure class="wp-block-image"><img decoding="async" src="https://miro.medium.com/v2/resize:fit:1400/1*qNP3D8tHBPf-P3_RemLe4A.png" alt=""/></figure>



<p id="69e2">Here in the results, we can there are many overlaps, and the probability is also low. Since training data was very low and the pre-trained model was trained on various 80 kinds of class images, therefore, Model was not able to learn much. We can collect more images and manually annotate them to get better accuracy and results.</p>



<p id="c24b">We can use this damage detection model in Insurance Applications by detecting the damage to the car in an accident which can help users to claim insurance online. And Insurance companies also can save a lot of money since I believe if Machine Learning is not growing business value it is not useful to spend time and money on Machine Learning.</p>



<h2 class="wp-block-heading" id="bb4d">Conclusion</h2>



<p id="d5dc">In this blog, we have learned the architecture and working of YOLO algorithms and also seen how YOLO can be used in the industry of Automobiles with Car Damage detection dataset. There are various industries where object detection can be applied such as warehouses, Automated Industries, Healthcare, etc.</p>



<p id="5867">As always, drop me a line in the comments if you have any doubts or can be helpful in any way! 😁</p>



<h2 class="wp-block-heading" id="bfac">Further Reading</h2>



<ol>
<li><a href="https://pjreddie.com/media/files/papers/YOLOv3.pdf" rel="noreferrer noopener" target="_blank">YOLO v3: An incremental improvement</a></li>



<li><a href="https://arxiv.org/pdf/1506.02640.pdf" rel="noreferrer noopener" target="_blank">You Only Look Once: Unified, Real-Time Object Detection</a></li>
</ol>



<p><a href="https://medium.com/tag/machine-learning?source=post_page-----7f677cc6ad74---------------machine_learning-----------------"></a></p>



<p><a href="https://medium.com/tech-blogs-by-nest-digital/demystifying-data-mesh-9a34ad69108f?source=author_recirc-----7f677cc6ad74----1---------------------26e9a463_7e86_478c_b25a_ca475df1167f-------"></a></p>
</div>]]></content:encoded>
					
					<wfw:commentRss>https://nestdigital.com/blogs/detecting-car-damage-using-yolo/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>Fly safely with DO-178C</title>
		<link>https://nestdigital.com/blogs/fly-safely-with-do-178c/</link>
					<comments>https://nestdigital.com/blogs/fly-safely-with-do-178c/#respond</comments>
		
		<dc:creator><![CDATA[Sharon Cleetus]]></dc:creator>
		<pubDate>Mon, 24 Jul 2023 12:03:02 +0000</pubDate>
				<category><![CDATA[BLOGS]]></category>
		<category><![CDATA[Aerospace]]></category>
		<guid isPermaLink="false">https://newwebsite.nestdigital.com/?p=4504</guid>

					<description><![CDATA[DO-178C (henceforth DO-178C) is the primary document referenced by certification authorities including the FAA, EASA and Transport Canada to approve all commercial software-based civil aviation systems. The document is jointly published by RTCA (formerly the Radio Technical Committee for Aeronautics) and EUROCAE. The rapid increase in the use of software in airborne systems and equipment [&#8230;]]]></description>
										<content:encoded><![CDATA[<div id="bsf_rt_marker">
<p id="8599">DO-178C (henceforth DO-178C) is the primary document referenced by certification authorities including the FAA, EASA and Transport Canada to approve all commercial software-based civil aviation systems. The document is jointly published by RTCA (formerly the Radio Technical Committee for Aeronautics) and EUROCAE. </p>



<p id="8599">The rapid increase in the use of software in airborne systems and equipment used on aircraft and engines in the early 1980s resulted in a need for industry-accepted guidance for satisfying airworthiness requirements. DO-178, “Software Considerations in Airborne Systems and Equipment Certification”, was written to satisfy this need. DO-178C is a formal process standard that covers the complete software lifecycle — planning, development, and integral processes — to ensure correctness and robustness in software systems for civil airborne applications. </p>



<p id="8599">The integral processes include software verification, software quality assurance, configuration management assurance and certification liaison with the regulatory authorities. Increasingly, standards developed for the commercial aviation including DO-178C have also become recognised as best practice in the defence sector. </p>



<p id="8599">The purpose of DO-178C document is to provide guidance for the production of software for airborne systems and equipment that performs its intended function with a level of confidence in safety that complies with airworthiness requirements.</p>



<h2 class="wp-block-heading" id="144b">Software Life Cycle process of DO-178C</h2>



<p id="8326">The software Life Cycle processes are applied as defined by the software planning process and the Software Development Plan. The software Life Cycle processes are<br>• Software requirements process.<br>• Software design process.<br>• Software coding process.<br>• Integration process<br>• Software verification process<br>• Software Testing Process<br>• Software Configuration Management Process<br>• Software Quality Assurance Process<br>• Certification Liaison Process</p>



<h2 class="wp-block-heading" id="9a38">Software requirement process</h2>



<p id="08b1">Software development processes produce one or more levels of software requirements. High-level requirements are produced directly through analysis of system requirements and system architecture. Usually, these high-level requirements are further developed during the software design process, thus producing one or more successive, lower levels of requirements. However, if Source Code is generated directly from high-level requirements, then the high-level requirements are also considered low-level requirements and the guidance for low-level requirements also apply. High-level requirements and low-level requirements may include derived requirements. In order to determine the effects of derived requirements on the system safety assessment and system requirements, all derived requirements should be made available to the system processes including the system safety assessment process.</p>



<h2 class="wp-block-heading" id="2b54">Software design process</h2>



<p id="4d2a">The software design process inputs are the Software Requirements Data, the Software Development Plan, and the Software Design Standards. When the planned transition criteria have been satisfied, the high-level requirements are used in the design process to develop software architecture and low-level requirements. This may involve one or more lower levels of requirements. The primary output of the process is the Design Description which includes the software architecture and the low-level requirements. The software design process is complete when its objectives and the objectives of the integral processes associated with it are satisfied.</p>



<h2 class="wp-block-heading" id="a303">Software Coding Process</h2>



<p id="53eb">The coding process inputs are the low-level requirements and software architecture from the software design process, the Software Development Plan, and the Software Code Standards. The software coding process may be entered or re-entered when the planned transition criteria are satisfied. This process based upon the software architecture and the low-level requirements produces the Source Code. The software coding process is complete when its objectives and the objectives of the integral processes associated with it are satisfied.</p>



<h2 class="wp-block-heading" id="5f05">Software integration process</h2>



<p id="cc6d">The integration process consists of software integration and hardware/software integration. The integration process may be entered or re-entered when the planned transition criteria have been satisfied. The integration process inputs are the software architecture from the software design process, and the Source Code from the software coding process. The outputs of the integration process are the object code, Executable Object Code, Parameter Data Item File and the compiling, linking, and loading data. The integration process is complete when its objectives and the objectives of the integral processes associated with it are satisfied.</p>



<h2 class="wp-block-heading" id="4769">Software verification process</h2>



<p id="7be4">Verification is a technical assessment of the outputs of the software planning process, software development processes, and the software verification process. The software verification process is applied as defined by the software planning process and the Software Verification Plan .Verification is not simply testing. Testing, in general, cannot show the absence of errors. As a result, the following sections use the term “verify” instead of “test” to discuss the software verification process activities, which are typically a combination of reviews, analyses, and tests.</p>



<h2 class="wp-block-heading" id="6143">Software testing</h2>



<p id="355c">Software testing is used to demonstrate that the software satisfies its requirements and to demonstrate with a high degree of confidence that errors that could lead to unacceptable failure conditions, as determined by the system safety assessment process, have been removed. There are 3 types testing.</p>



<p id="f2cd">• Hardware/software integration testing: To verify correct operation of the software in the target computer environment.<br>• Software integration testing: To verify the interrelationships between software requirements and components and to verify the implementation of the software requirements and software components within the software architecture.<br>• Low-level testing: To verify the implementation of low-level requirements.</p>



<h2 class="wp-block-heading" id="e523">Software Configuration Management Process</h2>



<p id="e523">The SCM process is applied as defined by the software planning process and the Software Configuration Management Plan. Outputs of the SCM process are recorded in Software Configuration Management Records or in other software life cycle data. The SCM process includes the activities of configuration identification, change control, baseline establishment, and archiving of the software product, including the related software life cycle data. The SCM process does not stop when the software product is approved by the certification authority, but continues throughout the service life of the system or equipment. If software life cycle activities will be performed by a supplier, then configuration management activities should be applied to the supplier.</p>



<p id="5812">Software Quality Assurance Process</p>



<p id="ae71">The SQA process is applied as defined by the software planning process and the Software Quality Assurance Plan. Outputs of the SQA process activities are recorded in Software Quality Assurance Records or other software life cycle data. The SQA process assesses the software life cycle processes and their outputs to obtain assurance that objectives are satisfied, deficiencies are detected, evaluated, tracked, and resolved, and software product and software life cycle data conform to certification requirements</p>



<h2 class="wp-block-heading" id="1425">Certification Liaison Process</h2>



<p id="2d34">The objectives of the certification liaison process is to establish communication and understanding between the applicant and the certification authority throughout the software life cycle to assist the certification process. Gain agreement on the means of compliance through approval of the Plan for Software Aspects of Certification. Provide compliance substantiation. The certification liaison process is applied as defined by the software planning process and the Plan for Software Aspects of Certification.</p>



<h2 class="wp-block-heading" id="0f0b">Software Certification Process</h2>



<p id="88ca">The certification authority assesses the Plan for Software Aspects of Certification for completeness and consistency with the means of compliance that was agreed upon to satisfy the certification basis. The certification authority satisfies itself that the software level(s) proposed by the applicant is consistent with the outputs of the system safety assessment process and other system life cycle data. The certification authority informs the applicant of issues with the proposed software plans that need to be satisfied prior to the certification authority agreement.</p>



<p id="73da">Reference:<br>DO-178C Document By RTCA</p>
</div>]]></content:encoded>
					
					<wfw:commentRss>https://nestdigital.com/blogs/fly-safely-with-do-178c/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
